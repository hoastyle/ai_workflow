# MCP é›†æˆæ¶æ„è®¾è®¡

**ç‰ˆæœ¬**: v1.0
**æ—¥æœŸ**: 2025-11-21
**ç›®çš„**: å¯è§†åŒ– MCP ä¸ AI Workflow ç³»ç»Ÿçš„é›†æˆæ¶æ„

---

## ğŸ“ ç³»ç»Ÿæ¶æ„æ¦‚è§ˆ

### å½“å‰ç³»ç»Ÿæ¶æ„ (æ—  MCP)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    User Input                            â”‚
â”‚              (Commands and Prompts)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              AI Workflow System                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  /wf_01_planning    /wf_02_task    /wf_03_prime  â”‚  â”‚
â”‚  â”‚  /wf_04_ask         /wf_05_code    /wf_06_debug  â”‚  â”‚
â”‚  â”‚  /wf_07_test        /wf_08_review  /wf_09_refac  â”‚  â”‚
â”‚  â”‚  /wf_10_optimize    /wf_11_commit  /wf_12_deploy â”‚  â”‚
â”‚  â”‚  /wf_13_doc_maint   /wf_14_doc     /wf_99_help   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                     â”‚                                    â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚    â–¼                â–¼                â–¼                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ CONTEXT  â”‚  â”‚KNOWLEDGE â”‚  â”‚ CLAUDE.md    â”‚          â”‚
â”‚  â”‚   .md   â”‚  â”‚   .md    â”‚  â”‚ +PLANNING.md â”‚          â”‚
â”‚  â”‚  +TASK  â”‚  â”‚          â”‚  â”‚   +ADR/      â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  Claude Model   â”‚
            â”‚  (Interpretation)
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### é›†æˆåç³»ç»Ÿæ¶æ„ (å« MCP)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    User Input                                 â”‚
â”‚              (Commands and Prompts)                           â”‚
â”‚                   + Optional Flags:                           â”‚
â”‚         --think  --c7  --research  --ui  --deep              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              AI Workflow System                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Workflow Commands (wf_01 - wf_14, wf_99)             â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚  â”‚ MCP Activation Logic                             â”‚ â”‚  â”‚
â”‚  â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚  â”‚
â”‚  â”‚  â”‚ â”‚ Check Flags: --think, --c7, --research, etc.â”‚ â”‚ â”‚  â”‚
â”‚  â”‚  â”‚ â”‚ Determine Auto-Activation based on keywords â”‚ â”‚ â”‚  â”‚
â”‚  â”‚  â”‚ â”‚ Activate appropriate MCP servers            â”‚ â”‚ â”‚  â”‚
â”‚  â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                                       â”‚
       â–¼                                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Project Context Layer   â”‚        â”‚   MCP Servers Layer      â”‚
â”‚                         â”‚        â”‚                          â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ CONTEXT.md (SSOT)   â”‚ â”‚        â”‚  â”‚ Sequential-thinkingâ”‚ â”‚
â”‚ â”‚ KNOWLEDGE.md        â”‚â—„â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â†’â”‚ (Structured)       â”‚ â”‚
â”‚ â”‚ TASK.md             â”‚ â”‚        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”‚ PLANNING.md         â”‚ â”‚        â”‚                          â”‚
â”‚ â”‚ CLAUDE.md           â”‚ â”‚        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ADR/                â”‚ â”‚        â”‚  â”‚ Serena             â”‚ â”‚
â”‚ â”‚                     â”‚ â”‚        â”‚  â”‚ (Semantic)         â”‚ â”‚
â”‚ â”‚ [File Storage]      â”‚ â”‚        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚        â”‚                          â”‚
â”‚                         â”‚        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚        â”‚  â”‚ Context7           â”‚ â”‚
â”‚ â”‚ Code Repository     â”‚ â”‚        â”‚  â”‚ (Documentation)    â”‚ â”‚
â”‚ â”‚                     â”‚â—„â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â†’â”‚                    â”‚ â”‚
â”‚ â”‚ [Semantic Understanding]      â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚        â”‚                          â”‚
â”‚                         â”‚        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚        â”‚  â”‚ Tavily             â”‚ â”‚
â”‚ â”‚ Project Knowledge   â”‚ â”‚        â”‚  â”‚ (Web Search)       â”‚ â”‚
â”‚ â”‚                     â”‚â—„â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â†’â”‚                    â”‚ â”‚
â”‚ â”‚ [Cross-session      â”‚ â”‚        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”‚  Memory]            â”‚ â”‚        â”‚                          â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚                         â”‚        â”‚  â”‚ Magic              â”‚ â”‚
â”‚                         â”‚        â”‚  â”‚ (UI Generation)    â”‚ â”‚
â”‚                         â”‚        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                         â”‚        â”‚                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                                    â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â–¼
               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â”‚  Claude Model   â”‚
               â”‚ (Enhanced with  â”‚
               â”‚  MCP Context)   â”‚
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â”‚  Output Result  â”‚
               â”‚                 â”‚
               â”‚ Standard Info   â”‚
               â”‚ + MCP Info      â”‚
               â”‚ [When Enabled]  â”‚
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”— MCP ä¸ wf å‘½ä»¤çš„é›†æˆçŸ©é˜µ

### é›†æˆç‚¹çŸ©é˜µ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”
â”‚   wf Command     â”‚Sequentialâ”‚ Serena   â”‚Context7 â”‚ Tavily â”‚ Magic â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚wf_01_planning    â”‚   -      â”‚   -      â”‚   -     â”‚   -    â”‚   -   â”‚
â”‚wf_02_task        â”‚   -      â”‚   â—†      â”‚   -     â”‚   -    â”‚   -   â”‚
â”‚wf_03_prime       â”‚   -      â”‚   â—â—â—    â”‚   -     â”‚   -    â”‚   -   â”‚
â”‚wf_04_ask         â”‚   â—â—â—    â”‚   â—†      â”‚   â—â—â—   â”‚   â—†â—†   â”‚   -   â”‚
â”‚wf_04_research    â”‚   â—†      â”‚   â—†      â”‚   â—â—    â”‚   â—â—â— â”‚   -   â”‚
â”‚wf_05_code        â”‚   -      â”‚   â—†      â”‚   â—     â”‚   -    â”‚   â—†   â”‚
â”‚wf_06_debug       â”‚   â—â—â—    â”‚   â—†â—†     â”‚   â—†     â”‚   -    â”‚   -   â”‚
â”‚wf_07_test        â”‚   -      â”‚   â—†      â”‚   -     â”‚   -    â”‚   -   â”‚
â”‚wf_08_review      â”‚   â—†      â”‚   â—†â—†     â”‚   â—†     â”‚   -    â”‚   -   â”‚
â”‚wf_09_refactor    â”‚   â—†      â”‚   â—â—     â”‚   -     â”‚   -    â”‚   -   â”‚
â”‚wf_10_optimize    â”‚   â—â—     â”‚   â—â—     â”‚   -     â”‚   -    â”‚   -   â”‚
â”‚wf_11_commit      â”‚   -      â”‚   -      â”‚   -     â”‚   -    â”‚   -   â”‚
â”‚wf_12_deploy      â”‚   -      â”‚   -      â”‚   -     â”‚   -    â”‚   -   â”‚
â”‚wf_13_doc_maint   â”‚   -      â”‚   â—â—     â”‚   -     â”‚   -    â”‚   -   â”‚
â”‚wf_14_doc         â”‚   -      â”‚   â—†      â”‚   â—†     â”‚   -    â”‚   â—â—â— â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”˜

å›¾ä¾‹:
â—â—â— = é«˜ä¼˜å…ˆçº§é›†æˆ (å¼ºçƒˆæ¨è)
â—â—  = ä¸­ä¼˜å…ˆçº§é›†æˆ (æ¨è)
â—   = ä½ä¼˜å…ˆçº§é›†æˆ (å¯é€‰)
â—†â—†  = è‡ªåŠ¨æ¿€æ´» (ç”¨æˆ·æ— æ³•ç¦ç”¨)
â—†   = å¯é€‰æ¿€æ´» (ç”¨æˆ·é€šè¿‡æ ‡å¿—å¯ç”¨)
-   = ä¸é€‚ç”¨
```

### é›†æˆæ·±åº¦è¯´æ˜

| é›†æˆç‚¹ | å½“å‰èƒ½åŠ› | MCP å¢å¼º | é¢„æœŸæ”¹è¿› |
|--------|----------|---------|---------|
| **wf_04_ask** | åŸºäºç»éªŒçš„å»ºè®® | Sequential-thinking + Context7 + Tavily | å¤šç»´åº¦ã€å¤šå±‚æ¬¡çš„å†³ç­–åˆ†æ (+50%) |
| **wf_06_debug** | å¿«é€Ÿè¯Šæ–­ | Sequential-thinking + Serena | ç³»ç»ŸåŒ–çš„æ ¹å› åˆ†æ (+40%) |
| **wf_03_prime** | æ–‡æ¡£åŠ è½½ | Serena è¯­ä¹‰ç†è§£ | æ·±åº¦ä¸Šä¸‹æ–‡å’Œè·¨ä¼šè¯å†…å­˜ (+30%) |
| **wf_04_research** | å·²çŸ¥æ–¹æ¡ˆè¯„ä¼° | Context7 + Tavily | å®˜æ–¹æ–‡æ¡£ + å®æ—¶ä¿¡æ¯ (+60%) |
| **wf_14_doc** | çº¯æ–‡æœ¬æ–‡æ¡£ | Magic UI ç”Ÿæˆ | å¯è§†åŒ–å’Œäº¤äº’ç¤ºä¾‹ (+æ–°èƒ½åŠ›) |

---

## ğŸ”„ å·¥ä½œæµé›†æˆç¤ºä¾‹

### ç¤ºä¾‹ 1: æ¶æ„å†³ç­–æµç¨‹ (wf_04_ask)

#### ä¸ä½¿ç”¨ MCP (å½“å‰)

```
User: "æˆ‘ä»¬åº”è¯¥ä½¿ç”¨ MongoDB è¿˜æ˜¯ PostgreSQLï¼Ÿ"
  â–¼
/wf_04_ask "MongoDB vs PostgreSQL"
  â–¼
AI æ ¹æ® PLANNING.md å’Œ KNOWLEDGE.md:
  - åˆ†æé¡¹ç›®éœ€æ±‚
  - å‚è€ƒå·²æœ‰å†³ç­–è®°å½•
  - ç»™å‡ºåŸºäºç»éªŒçš„å»ºè®®
  â–¼
è¾“å‡º: å»ºè®® + ç†ç”± (åŸºäºæ–‡æ¡£å’Œç»éªŒ)
```

#### ä½¿ç”¨ MCP å¢å¼º (é›†æˆå)

```
User: "æˆ‘ä»¬åº”è¯¥ä½¿ç”¨ MongoDB è¿˜æ˜¯ PostgreSQLï¼Ÿ --think --c7 --research"
  â–¼
/wf_04_ask "MongoDB vs PostgreSQL" --think --c7 --research
  â”‚
  â”œâ”€ æ¿€æ´» Sequential-thinking (--thinkæ ‡å¿—)
  â”‚  â””â”€ ç»“æ„åŒ–åˆ†æ: éœ€æ±‚ â†’ å€™é€‰ â†’ æƒè¡¡ â†’ å»ºè®®
  â”‚
  â”œâ”€ è‡ªåŠ¨æ¿€æ´» Context7 (æ£€æµ‹åˆ°æ¡†æ¶/åº“å)
  â”‚  â””â”€ è·å–å®˜æ–¹æ–‡æ¡£ã€æœ€ä½³å®è·µã€æ€§èƒ½æŒ‡æ ‡
  â”‚
  â””â”€ æ¿€æ´» Tavily (--researchæ ‡å¿—)
     â””â”€ æœç´¢æœ€æ–°ç¤¾åŒºè®¨è®ºã€GitHub è¶‹åŠ¿ã€ç‰ˆæœ¬å¯¹æ¯”
  â–¼
AI ç»¼åˆåˆ†æ:
  - å¤šæ­¥éª¤ç»“æ„åŒ–åˆ†æ
  - å®˜æ–¹æ–‡æ¡£æ”¯æŒ
  - å®æ—¶ç¤¾åŒºåé¦ˆ
  â–¼
è¾“å‡º: å¤šç»´åº¦å»ºè®®
  â”œâ”€ åŠŸèƒ½å¯¹æ¯” (Context7 + Sequential-thinking)
  â”œâ”€ æ€§èƒ½åˆ†æ (Context7 + Tavily æœç´¢ç»“æœ)
  â”œâ”€ ç¤¾åŒºè¯„ä»· (Tavily æœç´¢)
  â”œâ”€ æƒè¡¡åˆ†æ (Sequential-thinking)
  â””â”€ æœ€ç»ˆå»ºè®® (ç»¼åˆåˆ†æ)
```

---

### ç¤ºä¾‹ 2: é—®é¢˜è°ƒè¯•æµç¨‹ (wf_06_debug)

#### ä¸ä½¿ç”¨ MCP (å½“å‰)

```
User: "ä¸ºä»€ä¹ˆ API å“åº”è¿™ä¹ˆæ…¢ï¼Ÿ"
  â–¼
/wf_06_debug "API æ€§èƒ½é—®é¢˜"
  â–¼
AI åŸºäºæ¨¡å¼:
  - åˆ—ä¸¾å¯èƒ½çš„åŸå› 
  - å»ºè®®æ£€æŸ¥æ­¥éª¤
  - å‚è€ƒ KNOWLEDGE.md çš„å·²çŸ¥é—®é¢˜
  â–¼
è¾“å‡º: é—®é¢˜å‡è®¾ + æ£€æŸ¥æ–¹æ¡ˆ
```

#### ä½¿ç”¨ MCP å¢å¼º (é›†æˆå)

```
User: "ä¸ºä»€ä¹ˆ API å“åº”è¿™ä¹ˆæ…¢ï¼Ÿ --think --deep"
  â–¼
/wf_06_debug "API æ€§èƒ½é—®é¢˜" --think --deep
  â”‚
  â”œâ”€ æ¿€æ´» Sequential-thinking (--thinkæ ‡å¿—)
  â”‚  â””â”€ ç³»ç»ŸåŒ–åˆ†æ: ç—‡çŠ¶ â†’ å‡è®¾ â†’ éªŒè¯ â†’ æ ¹å› 
  â”‚
  â””â”€ æ¿€æ´» Serena (--deepæ ‡å¿—)
     â””â”€ ä»£ç çº§åˆ†æï¼Œè¯†åˆ«æ€§èƒ½æ¨¡å¼
  â–¼
AI æ‰§è¡Œè¯Šæ–­:
  - Sequential-thinking: é€»è¾‘åˆ†è§£é—®é¢˜
  - Serena: è¯­ä¹‰ä»£ç åˆ†æ
  â–¼
è¾“å‡º: å®Œæ•´è¯Šæ–­æŠ¥å‘Š
  â”œâ”€ é—®é¢˜åˆ†è§£ (Sequential-thinking)
  â”œâ”€ ä»£ç åˆ†æ (Serena)
  â”œâ”€ æ€§èƒ½æ¨¡å¼è¯†åˆ« (Serena)
  â”œâ”€ ä¼˜åŒ–å»ºè®® (ç»¼åˆåˆ†æ)
  â””â”€ éªŒè¯æ­¥éª¤
```

---

### ç¤ºä¾‹ 3: ä¸Šä¸‹æ–‡åŠ è½½æµç¨‹ (wf_03_prime)

#### ä¸ä½¿ç”¨ MCP (å½“å‰)

```
/wf_03_prime
  â–¼
AI è¯»å–:
  - TASK.md (ä»»åŠ¡è¿½è¸ª)
  - CONTEXT.md (ä¼šè¯æŒ‡é’ˆ)
  - PLANNING.md (æ¶æ„)
  - KNOWLEDGE.md (çŸ¥è¯†åº“)
  â–¼
è¾“å‡º: é¡¹ç›®ä¸Šä¸‹æ–‡æ‘˜è¦
```

#### ä½¿ç”¨ MCP å¢å¼º (é›†æˆå - è‡ªåŠ¨æ¿€æ´»)

```
/wf_03_prime
  â–¼
AI è¯»å–æ–‡æ¡£ + æ¿€æ´» Serena
  â”‚
  â”œâ”€ æ–‡æ¡£åŠ è½½ (å½“å‰)
  â”‚  â”œâ”€ TASK.md â†’ ä»»åŠ¡è§£æ
  â”‚  â”œâ”€ CONTEXT.md â†’ ä¼šè¯æŒ‡é’ˆ
  â”‚  â”œâ”€ PLANNING.md â†’ æ¶æ„ç†è§£
  â”‚  â””â”€ KNOWLEDGE.md â†’ çŸ¥è¯†ç´¢å¼•
  â”‚
  â””â”€ Serena å¢å¼º (æ–°)
     â”œâ”€ è¯­ä¹‰ç†è§£é¡¹ç›®ä»£ç ç»“æ„
     â”œâ”€ è¯†åˆ«ä»£ç æ¨¡å¼å’Œæœ€ä½³å®è·µ
     â”œâ”€ å»ºç«‹è·¨ä¼šè¯å†…å­˜
     â””â”€ æ¨èç›¸å…³ä»£ç ç‰‡æ®µ
  â–¼
è¾“å‡º: å¢å¼ºçš„ä¸Šä¸‹æ–‡
  â”œâ”€ ä»»åŠ¡å’Œè¿›åº¦
  â”œâ”€ é¡¹ç›®æ¶æ„
  â”œâ”€ çŸ¥è¯†åº“
  â”œâ”€ ä»£ç è¯­ä¹‰ç†è§£ (NEW)
  â”œâ”€ æ¨èçš„ä»£ç æ¨¡å¼ (NEW)
  â””â”€ ä¸‹ä¸€æ­¥ä¼˜å…ˆä»»åŠ¡ (æ›´å‡†ç¡®)
```

---

## ğŸ›ï¸ MCP æ¿€æ´»æœºåˆ¶

### 1. æ˜¾å¼æ¿€æ´» (ç”¨æˆ·æ ‡å¿—)

```yaml
# ç”¨æˆ·å¯ä»¥é€šè¿‡æ ‡å¿—æ˜¾å¼å¯ç”¨ç‰¹å®š MCP
/wf_04_ask "..." --think              # å¯ç”¨ Sequential-thinking
/wf_04_ask "..." --c7                 # å¯ç”¨ Context7
/wf_04_ask "..." --research           # å¯ç”¨ Tavily
/wf_06_debug "..." --deep             # å¯ç”¨ Serena æ·±åº¦åˆ†æ
/wf_14_doc "..." --ui                 # å¯ç”¨ Magic UI ç”Ÿæˆ

# ç»„åˆæ¿€æ´»
/wf_04_ask "..." --think --c7 --research
# åŒæ—¶æ¿€æ´» Sequential-thinking, Context7, Tavily
```

### 2. è‡ªåŠ¨æ¿€æ´» (å…³é”®è¯æ£€æµ‹)

```yaml
# Sequential-thinking (å¤æ‚å†³ç­–)
è§¦å‘è¯: "ä¸ºä»€ä¹ˆ", "æƒè¡¡", "å¯¹æ¯”", "æ¶æ„å†³ç­–"
ç¤ºä¾‹: /wf_04_ask "MongoDB vs PostgreSQL"

# Context7 (æ¡†æ¶/åº“å)
è§¦å‘è¯: å…·ä½“çš„æ¡†æ¶/åº“å (React, Django, Springç­‰)
ç¤ºä¾‹: /wf_04_ask "å¦‚ä½•åœ¨ React ä¸­å®ç°..."

# Serena (é¡¹ç›®ä»£ç åˆ†æ)
è§¦å‘è¯: "ä»£ç ", "æ€§èƒ½", "æ¨¡å¼", "å‡½æ•°"
ç¤ºä¾‹: /wf_06_debug "è¿™ä¸ªå‡½æ•°ä¸ºä»€ä¹ˆè¿™ä¹ˆæ…¢"

# Tavily (æœ€æ–°ä¿¡æ¯)
è§¦å‘è¯: "æœ€æ–°", "å½“å‰", "è¶‹åŠ¿", "2024"
ç¤ºä¾‹: /wf_04_research "Rust çš„æœ€æ–°å‘å±•"
```

### 3. ä¼˜é›…é™çº§ (MCP ä¸å¯ç”¨)

```yaml
# å¦‚æœ MCP æœªå®‰è£…æˆ–ä¸å¯ç”¨ï¼Œå·¥ä½œæµç»§ç»­
/wf_04_ask "..." --think
  â”œâ”€ å°è¯•æ¿€æ´» Sequential-thinking
  â”œâ”€ å¦‚æœå¤±è´¥ â†’ é™çº§åˆ°æ ‡å‡†åˆ†æ
  â””â”€ æç¤ºç”¨æˆ·: "å»ºè®®å®‰è£… SuperClaude Framework ä»¥å¯ç”¨é«˜çº§åŠŸèƒ½"

# ç”¨æˆ·å¯ä»¥ç¦ç”¨ MCP (æ€§èƒ½è€ƒè™‘)
/wf_04_ask "..." --no-mcp
  â””â”€ è·³è¿‡æ‰€æœ‰ MCP æ¿€æ´»
```

---

## ğŸ“Š æ€§èƒ½å’Œç¼“å­˜ç­–ç•¥

### ç¼“å­˜å±‚è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User Request   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Check MCP Result Cache             â”‚
â”‚  Key: hash(command, params, flags)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
    â–¼         â–¼
  [Hit]    [Miss]
    â”‚         â”‚
    â”‚         â–¼
    â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚    â”‚  Call MCP       â”‚
    â”‚    â”‚  (Sequential-   â”‚
    â”‚    â”‚   thinking,     â”‚
    â”‚    â”‚   Context7,     â”‚
    â”‚    â”‚   Tavily, etc)  â”‚
    â”‚    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚         â–¼
    â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚    â”‚ Cache Result    â”‚
    â”‚    â”‚ (30 min TTL)    â”‚
    â”‚    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚         â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â–¼             â–¼
         Return Result  [Expired]
                        â”‚ â†’ Delete
                        â”‚ â†’ Request New
```

### ç¼“å­˜ç­–ç•¥

| MCP æœåŠ¡ | ç¼“å­˜æ—¶é—´ | åœºæ™¯ |
|---------|---------|------|
| Sequential-thinking | 1 å°æ—¶ | ç›¸åŒé—®é¢˜çš„åˆ†æç»“æœ |
| Context7 | 24 å°æ—¶ | æ–‡æ¡£æŸ¥è¯¢ç»“æœ |
| Tavily | 1 å°æ—¶ | æœç´¢ç»“æœ (äº’è”ç½‘ä¼šå˜åŒ–å¿«) |
| Serena | ä¼šè¯çº§ | ä»£ç åˆ†æç»“æœ |
| Magic | æ°¸ä¹… | UI ç»„ä»¶ç”Ÿæˆ |

---

## ğŸ”’ å®‰å…¨å’Œéš”ç¦»

### è¿›ç¨‹éš”ç¦»

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AI Workflow Process             â”‚
â”‚  (Main Claude Code Context)      â”‚
â”‚  - Reads/Writes project files    â”‚
â”‚  - Manages wf commands           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚      â–²
          â”‚      â”‚
    [IPC/Socket - Isolated Channel]
          â”‚      â”‚
          â–¼      â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  MCP Server Processes            â”‚
â”‚  (Independent Node.js processes) â”‚
â”‚  - Sequential-thinking: Port 3001â”‚
â”‚  - Context7: Port 3002           â”‚
â”‚  - Serena: Port 3003             â”‚
â”‚  - Tavily: Port 3004             â”‚
â”‚  - Magic: Port 3005              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ä¼˜ç‚¹:
âœ“ æ•…éšœéš”ç¦» (MCP å´©æºƒä¸å½±å“ä¸»æµç¨‹)
âœ“ å®‰å…¨éš”ç¦» (é™åˆ¶ MCP è®¿é—®æƒé™)
âœ“ ç‰ˆæœ¬éš”ç¦» (ç‹¬ç«‹æ›´æ–° MCP ç‰ˆæœ¬)
```

### æƒé™çŸ©é˜µ

| MCP | è¯»å–æƒé™ | å†™å…¥æƒé™ | ç½‘ç»œè®¿é—® |
|-----|---------|---------|---------|
| Sequential-thinking | é¡¹ç›®æ–‡ä»¶ | æ—  | æ—  |
| Context7 | æ—  | æ—  | æ˜¯ (npm registry) |
| Serena | é¡¹ç›®æ–‡ä»¶ | æ—  | æ—  |
| Tavily | æ—  | æ—  | æ˜¯ (web) |
| Magic | æ—  | æ—  | æ˜¯ (API) |

---

## ğŸ¯ é…ç½®ç¤ºä¾‹

### CLAUDE.md ä¸­çš„ MCP é…ç½®

```markdown
## ğŸ”Œ MCP é›†æˆé…ç½®

### å¯ç”¨çš„ MCP æœåŠ¡å™¨

æœ¬é¡¹ç›®æ”¯æŒä»¥ä¸‹ MCP æœåŠ¡å™¨çš„å¯é€‰é›†æˆï¼š

| MCP æœåŠ¡ | å¯ç”¨ | ç”¨é€” | æ ‡å¿— |
|---------|------|------|------|
| Sequential-thinking | âœ… | ç»“æ„åŒ–å¤šæ­¥åˆ†æ | --think |
| Context7 | âœ… | å®˜æ–¹æ–‡æ¡£æŸ¥è¯¢ | --c7 |
| Serena | âœ… | è¯­ä¹‰ä»£ç ç†è§£ | --deep |
| Tavily | âœ… | Web æœç´¢ | --research |
| Magic | âœ… | UI ç”Ÿæˆ | --ui |

### è‡ªåŠ¨æ¿€æ´»è§„åˆ™

- Sequential-thinking: å¤æ‚å†³ç­–åœºæ™¯è‡ªåŠ¨æ¿€æ´»
- Context7: æ£€æµ‹åˆ°æ¡†æ¶/åº“åè‡ªåŠ¨æ¿€æ´»
- Serena: é¡¹ç›®ä¸Šä¸‹æ–‡åŠ è½½æ—¶è‡ªåŠ¨æ¿€æ´»
- Tavily: ç”¨æˆ·ä½¿ç”¨ --research æ ‡å¿—
- Magic: ç”¨æˆ·ä½¿ç”¨ --ui æ ‡å¿—

### é™çº§ç­–ç•¥

å¦‚æœ MCP æœªå®‰è£…æˆ–ä¸å¯ç”¨ï¼š
1. å°è¯•æ¿€æ´» MCP
2. å¤±è´¥æ—¶ï¼Œä¼˜é›…é™çº§åˆ°æ ‡å‡†åŠŸèƒ½
3. æç¤ºç”¨æˆ·å¦‚ä½•å®‰è£… SuperClaude Framework
4. å·¥ä½œæµç»§ç»­æ‰§è¡Œ

### ç¦ç”¨ MCP

ç”¨æˆ·å¯ä»¥é€šè¿‡ --no-mcp æ ‡å¿—ç¦ç”¨æ‰€æœ‰ MCPï¼š
```bash
/wf_04_ask "..." --no-mcp
# æ‰€æœ‰ MCP æœåŠ¡è¢«ç¦ç”¨ï¼Œä½¿ç”¨çº¯æ–‡æœ¬åˆ†æ
```
```

---

## ğŸ“‹ å®ç°æ£€æŸ¥æ¸…å•

### Phase 1: æ¡†æ¶å»ºç«‹
- [ ] åˆ›å»º MCP é›†æˆé…ç½®æ–‡æ¡£
- [ ] æ›´æ–° CLAUDE.md çš„ MCP è§„èŒƒ
- [ ] å®šä¹‰æ ‡å¿—å’Œæ¿€æ´»æœºåˆ¶
- [ ] åˆ›å»ºä¼˜é›…é™çº§é€»è¾‘

### Phase 2: å‘½ä»¤é›†æˆ
- [ ] é›†æˆ Sequential-thinking åˆ° wf_04_ask
- [ ] é›†æˆ Context7 åˆ° wf_04_ask
- [ ] é›†æˆ Sequential-thinking åˆ° wf_06_debug
- [ ] é›†æˆ Serena åˆ° wf_03_prime
- [ ] é›†æˆ Tavily åˆ° wf_04_research
- [ ] é›†æˆ Magic åˆ° wf_14_doc

### Phase 3: æµ‹è¯•å’Œæ–‡æ¡£
- [ ] æµ‹è¯•æ¯ä¸ªé›†æˆç‚¹
- [ ] åˆ›å»ºä½¿ç”¨æŒ‡å—
- [ ] åˆ›å»º ADR è®°å½•
- [ ] æ”¶é›†ç”¨æˆ·åé¦ˆ

---

**ç‰ˆæœ¬**: v1.0
**æœ€åæ›´æ–°**: 2025-11-21
**ç»´æŠ¤**: Claude Code
