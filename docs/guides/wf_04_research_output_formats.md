---
title: "wf_04_research 输出格式规范"
description: "标准输出、MCP增强输出和组合输出的完整格式说明"
type: "技术设计"
status: "完成"
priority: "高"
created_date: "2025-11-27"
last_updated: "2025-11-27"
related_documents:
  - "../../wf_04_research.md"
  - "wf_04_research_mcp_guide.md"
  - "wf_04_research_workflows.md"
related_code: []
---

# wf_04_research 输出格式规范

本文档详细说明 `/wf_04_research` 的各种输出格式、模板和最佳实践。

---

## 标准研究输出 (不使用 MCP)

### 1. 研究总结

```markdown
## 研究总结
- **研究主题**: [技术主题]
- **评估方案数**: [数字] 个
- **推荐方案**: [方案名]
- **推荐指数**: ⭐⭐⭐⭐⭐
```

### 2. 需求和评估标准

```markdown
## 需求和评估标准

### 功能需求
- [功能1]
- [功能2]
- ...

### 非功能需求
- 性能: [要求]
- 可维护性: [要求]
- ...

### 项目约束
- [约束1]
- [约束2]
```

### 3. 候选方案详细评估

**模板格式**（对每个方案重复）:

```markdown
## 方案 X: [项目名称]

**基本信息**:
- 主页: [URL]
- GitHub: [URL]
- 开发语言: [Language]
- 最新版本: [Version]
- 最近更新: [Date]
- License: [Type]

**功能评估**:
- [功能1]: ✅ 完全支持 / ⚠️ 部分支持 / ❌ 不支持
- [功能2]: ...
- 缺少功能: [列表]

**社区活跃度**:
- GitHub Stars: [Number] (趋势: ↑/→/↓)
- 最近更新: [Days] 前
- 活跃贡献者: [Number]
- Issue 响应时间: [Average]
- 社区规模评价: 🔴 衰落 / 🟡 稳定 / 🟢 活跃 / 🟣 非常活跃

**技术质量**:
- 代码质量: [评价]
- 依赖数量: [数字]
- 测试覆盖率: [数字或评价]
- 安全性: [评价]

**集成成本**:
- 学习曲线: 简陡 / 中等 / 陡峭
- API 复杂度: 简单 / 中等 / 复杂
- 所需代码改动: 少 / 中等 / 大量
- 迁移成本: [评估]

**优势**:
1. [优势1]
2. [优势2]
3. [优势3]

**劣势和风险**:
1. [劣势1]
2. [劣势2]
3. [风险]

**总体评价**: [简短评价]
**推荐指数**: ⭐⭐⭐⭐⭐
```

### 4. 对比矩阵

```markdown
## 方案对比矩阵

| 方案 | 功能完整性 | 社区活跃度 | 集成成本 | 学习曲线 | 总体评分 |
|------|----------|----------|--------|--------|--------|
| 方案A | ✅✅✅ | 🟢 活跃 | 低 | 简陡 | ⭐⭐⭐⭐⭐ |
| 方案B | ✅✅ | 🟡 稳定 | 中 | 中等 | ⭐⭐⭐⭐ |
| 方案C | ✅ | 🔴 衰落 | 高 | 陡峭 | ⭐⭐ |
```

### 5. 推荐方案

```markdown
## 推荐方案

**推荐**: [方案名]

**推荐理由**:
1. [理由1]
2. [理由2]
3. [理由3]

**风险和缓解措施**:
- 风险1: [说明] → 缓解措施: [措施]
- 风险2: [说明] → 缓解措施: [措施]

**备选方案**:
- [备选方案名]: [适用场景]
- [备选方案名]: [适用场景]
```

### 6. 后续行动

```markdown
## 后续行动

- [ ] 是否需要 PoC 验证? (如果是，为什么?)
- [ ] 是否需要创建 ADR? (重大决策时)
- [ ] 建议的下一步命令:
  - 如果需要验证: → /wf_05_code PoC
  - 如果确认无误: → /wf_01_planning 更新
  - 如果有新问题: → /wf_04_ask 再咨询
```

---

## MCP 增强输出

### 使用 --c7 (Context7 官方文档)

在每个候选方案的评估中添加：

```markdown
**官方文档增强** (Context7):

1. **官方文档链接**:
   - 主文档: [URL]
   - API 参考: [URL]
   - 入门指南: [URL]
   - 示例代码: [URL]

2. **官方性能基准**:
   - [官方性能数据]
   - [官方推荐配置]
   - [可扩展性说明]

3. **官方集成指南**:
   - [推荐集成模式]
   - [官方插件列表]
   - [最佳实践]

4. **版本和兼容性**:
   - 当前稳定版: [Version]
   - 破坏性变更: [列表]
   - 兼容性矩阵: [说明]
   - 升级路径: [说明]
```

### 使用 --research (Tavily 实时市场数据)

在每个候选方案的评估中添加：

```markdown
**实时市场数据增强** (Tavily):

1. **社区反馈**:
   - Stack Overflow: [热度和问题数]
   - Reddit/HackerNews: [讨论摘要]
   - 技术博客: [评价和对比]
   - 社交媒体: [讨论趋势]

2. **GitHub 实时数据**:
   - Stars 增长: [最近30天 / 6个月趋势]
   - 活跃度: [贡献者数、发布频率]
   - Issue/PR: [打开/关闭比例]

3. **性能对比文章**:
   - [第三方 benchmark 结果]
   - [不同场景性能数据]
   - [真实项目性能报告]

4. **采用案例**:
   - [知名公司采用]
   - [行业内使用趋势]
   - [成功/失败案例]

5. **已知问题**:
   - [社区报告的坑]
   - [未解决的 bug]
   - [改进建议]
```

### 使用 --c7 --research (组合增强)

输出包含：

```markdown
## 方案对比 (官方+社区双重验证)

| 维度 | 方案A | 方案B | 方案C |
|------|------|------|------|
| **官方文档** | 完整 | 完整 | 不完整 |
| **社区活跃度** | 🟢 高 | 🟡 中 | 🔴 低 |
| **性能 (官方)** | [数据] | [数据] | [数据] |
| **性能 (社区)** | [实测] | [实测] | [实测] |
| **已知问题** | 少 | 中 | 多 |
| **采用情况** | 广泛 | 一般 | 小众 |
```

---

## KNOWLEDGE.md 方案对比表模板

### 添加或更新方案对比表

```markdown
## 方案对比：[技术主题]

**评估日期**: [YYYY-MM-DD]
**评估者**: Claude
**决策状态**: 待确认 / 已选择: [方案名]
**相关ADR**: [如果有]
**最后更新**: [YYYY-MM-DD]

| 方案 | 功能完整性 | 社区活跃度 | 集成成本 | 总体评分 | 备注 |
|------|----------|----------|--------|--------|------|
| 方案A | ✅✅✅ | 🟢 活跃 | 低 | ⭐⭐⭐⭐⭐ | 推荐 |
| 方案B | ✅✅ | 🟡 稳定 | 中 | ⭐⭐⭐⭐ | 备选 |
| 方案C | ✅ | 🔴 衰落 | 高 | ⭐⭐ | 不推荐 |
```

---

## 格式最佳实践

### 符号使用规范

| 符号 | 用途 | 示例 |
|------|------|------|
| ✅ | 完全支持或满足 | ✅ 完全支持 |
| ⚠️ | 部分支持或需要改进 | ⚠️ 部分支持 |
| ❌ | 不支持或不满足 | ❌ 不支持 |
| 🟢 | 活跃、好、高 | 🟢 活跃 |
| 🟡 | 稳定、中等、中等 | 🟡 稳定 |
| 🔴 | 衰落、差、低 | 🔴 衰落 |
| 🟣 | 非常活跃、优秀 | 🟣 非常活跃 |
| ↑ | 趋势上升 | Stars 趋势: ↑ |
| → | 趋势平稳 | Stars 趋势: → |
| ↓ | 趋势下降 | Stars 趋势: ↓ |
| ⭐ | 推荐指数 | ⭐⭐⭐⭐⭐ (5星) |

### 内容组织建议

**良好的输出结构**:
1. 总结 (1-2 段)
2. 需求和标准 (简洁列表)
3. 方案评估 (详细但有结构)
4. 对比矩阵 (清晰表格)
5. 推荐 (明确理由)
6. 后续行动 (清单形式)

**避免**:
- 冗长的段落（使用列表）
- 过多的重复信息
- 模糊的评价（使用符号和指数）
- 缺少数据支持的判断
- 过度细节（保持高层视角）

---

## 输出验证检查清单

完成研究输出前，验证：

### 内容完整性
- [ ] 所有候选方案都被评估了
- [ ] 每个方案的评估维度一致
- [ ] 优势和劣势都被列出
- [ ] 推荐理由明确有力

### 格式规范
- [ ] 使用了适当的符号（✅/⚠️/❌/🟢/🟡/🔴）
- [ ] 推荐指数使用星级表示
- [ ] 对比矩阵清晰易读
- [ ] 没有语法或拼写错误

### 数据质量
- [ ] 引用了具体数字（GitHub Stars、更新日期等）
- [ ] 数据来源可追踪
- [ ] 性能数据有可比性
- [ ] License 信息准确

### 决策质量
- [ ] 推荐方案明确
- [ ] 推荐理由充分
- [ ] 风险被识别和缓解
- [ ] 备选方案被列出

### 文档更新
- [ ] KNOWLEDGE.md 已更新
- [ ] 方案对比表已添加
- [ ] 是否需要 ADR 已明确
- [ ] 后续行动已清晰说明

---

## 相关内容

详见:
- [wf_04_research.md](../../wf_04_research.md) - 主命令文档
- [wf_04_research_mcp_guide.md](wf_04_research_mcp_guide.md) - MCP 增强指南
- [wf_04_research_workflows.md](wf_04_research_workflows.md) - 工作流指南
- [KNOWLEDGE.md](../../KNOWLEDGE.md) - 知识库和决策索引
