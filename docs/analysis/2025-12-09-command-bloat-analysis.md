---
title: "å‘½ä»¤è†¨èƒ€å’Œä¸Šä¸‹æ–‡çˆ†ç‚¸åˆ†ææŠ¥å‘Š"
description: "æ·±åº¦åˆ†æ wf_ å‘½ä»¤æ–‡ä»¶è†¨èƒ€é—®é¢˜åŠå¤§æ–‡æ¡£éšæœºè¯»å–å¯¼è‡´çš„ä¸Šä¸‹æ–‡çˆ†ç‚¸ï¼Œæä¾›åŸºäº SuperClaude çš„è§£å†³æ–¹æ¡ˆ"
type: "åˆ†ææŠ¥å‘Š"
status: "å®Œæˆ"
priority: "é«˜"
created_date: "2025-12-09"
last_updated: "2025-12-09"
authors: ["Claude"]
tags: ["tokenä¼˜åŒ–", "æ¶æ„è®¾è®¡", "SuperClaudeå‚è€ƒ"]
related_documents:
  - "docs/adr/2025-12-03-superclaude-optimization-learnings.md"
  - "KNOWLEDGE.md"
related_code: []
---

# å‘½ä»¤è†¨èƒ€å’Œä¸Šä¸‹æ–‡çˆ†ç‚¸åˆ†ææŠ¥å‘Š

## ğŸ“‹ æ‰§è¡Œæ‘˜è¦

**é—®é¢˜è¯†åˆ«**:
1. **å‘½ä»¤æ–‡ä»¶è†¨èƒ€**: wf_ å‘½ä»¤å¹³å‡ 642 è¡Œ/æ–‡ä»¶ï¼ˆSuperClaude ä»… 193 è¡Œï¼‰
2. **å¤§æ–‡æ¡£éšæœºè¯»å–**: 17 ä¸ªæ–‡æ¡£è¶…è¿‡ 500 è¡Œï¼Œéšæœºè¯»å–å¯å¯¼è‡´ä¸Šä¸‹æ–‡çˆ†ç‚¸

**å½±å“è¯„ä¼°**:
- æ¯æ¬¡å‘½ä»¤æ‰§è¡Œæ¶ˆè€— 600-1900 tokensï¼ˆä»…åŠ è½½å‘½ä»¤å®šä¹‰ï¼‰
- å•æ¬¡å¤§æ–‡æ¡£è¯»å–å¯æ¶ˆè€— 3000-6000 tokens
- æ€»tokenæµªè´¹çº¦ 30-40% å¯ç”¨ç©ºé—´

**è§£å†³æ–¹æ¡ˆROI**:
- ç«‹å³æªæ–½ï¼ˆ1-2å°æ—¶ï¼‰: é˜²æ­¢ä¸Šä¸‹æ–‡çˆ†ç‚¸ï¼ŒROI 10x
- çŸ­æœŸä¼˜åŒ–ï¼ˆ1å‘¨ï¼‰: èŠ‚çœ 50-70% å‘½ä»¤åŠ è½½token
- é•¿æœŸé‡æ„ï¼ˆ2-3å‘¨ï¼‰: æ¶æ„å¯æŒç»­æ€§æå‡

---

## ğŸ” é—®é¢˜1: å‘½ä»¤æ–‡ä»¶è†¨èƒ€åˆ†æ

### ç°çŠ¶é‡åŒ–

**AI Workflow å‘½ä»¤å¤§å°** (16ä¸ªå‘½ä»¤, 10,274è¡Œæ€»è®¡):

```
wf_08_review.md      1,905 è¡Œ  âš ï¸ ä¸¥é‡è†¨èƒ€
wf_03_prime.md       1,198 è¡Œ  âš ï¸ ä¸¥é‡è†¨èƒ€
wf_05_code.md        1,158 è¡Œ  âš ï¸ ä¸¥é‡è†¨èƒ€
wf_14_doc.md           822 è¡Œ  ğŸŸ¡ éœ€ä¼˜åŒ–
wf_11_commit.md        772 è¡Œ  ğŸŸ¡ éœ€ä¼˜åŒ–
wf_04_ask.md           725 è¡Œ  ğŸŸ¡ éœ€ä¼˜åŒ–
wf_06_debug.md         680 è¡Œ  ğŸŸ¡ éœ€ä¼˜åŒ–
wf_12_deploy_check.md  507 è¡Œ
wf_09_refactor.md      395 è¡Œ
wf_07_test.md          381 è¡Œ
wf_01_planning.md      352 è¡Œ
wf_10_optimize.md      341 è¡Œ
wf_99_help.md          334 è¡Œ
wf_02_task.md          300 è¡Œ
wf_04_research.md      235 è¡Œ
wf_13_doc_maintain.md  169 è¡Œ

å¹³å‡: 642 è¡Œ/å‘½ä»¤
ä¸­ä½æ•°: 504 è¡Œ
```

**SuperClaude å‚è€ƒ** (24ä¸ªå‘½ä»¤, 4,626è¡Œæ€»è®¡):

```
recommend.md         1,005 è¡Œ  (æ™ºèƒ½æ¨èï¼Œå¤æ‚ç®—æ³•)
pm.md                  592 è¡Œ  (å…ƒçº§åè°ƒå™¨)
spec-panel.md          427 è¡Œ  (å¤šä¸“å®¶è¯„å®¡)
index-repo.md          165 è¡Œ
help.md                148 è¡Œ
å…¶ä»–å‘½ä»¤              80-100 è¡Œ

å¹³å‡: 193 è¡Œ/å‘½ä»¤
ä¸­ä½æ•°: 92 è¡Œ
```

**å·®è·**: AI Workflow å‘½ä»¤å¹³å‡æ¯” SuperClaude **å¤§ 3.3 å€**

---

### æ ¹å› åˆ†æ

#### æ ¹å› 1: å†…è”æ–‡æ¡£è†¨èƒ€

**é—®é¢˜ç¤ºä¾‹** (wf_03_prime.md):
```markdown
## ğŸ“Œ å·¥ä½œæµå¯¼èˆª (Phase 3 - é—­ç¯å·¥ä½œæµ)
[250+ è¡Œè¯¦ç»†å¯¼èˆªè¯´æ˜]

## ğŸ¯ ä½¿ç”¨ç¤ºä¾‹å’Œæœ€ä½³å®è·µ
[300+ è¡Œç¤ºä¾‹å’Œåœºæ™¯]

## ğŸ’¡ æ™ºèƒ½æ¨èä¸‹ä¸€æ­¥
[200+ è¡Œæ¨èç®—æ³•è¯´æ˜]
```

**SuperClaude åšæ³•**:
```markdown
## Behavioral Flow
1. Analyze â†’ 2. Plan â†’ 3. Generate

## Examples
[3-5 ä¸ªç®€æ´ç¤ºä¾‹ï¼Œæ¯ä¸ª 5-10 è¡Œ]

è¯¦ç»†æ–‡æ¡£å¤–ç½®åˆ° docs/guides/
```

#### æ ¹å› 2: Frontmatter è¿‡åº¦

**AI Workflow** (20+ å­—æ®µ):
```yaml
---
command: /wf_05_code
index: 05
phase: "å¼€å‘å®ç°"
description: "..."
reads: [...]
writes: [...]
prev_commands: [...]
next_commands: [...]
model: sonnet
token_budget: complex
ultrathink_lens: "craft_elegance"
mcp_support:
  - name: "Magic"
    flag: "--ui"
    detail: "UIç»„ä»¶ç”Ÿæˆå’Œè®¾è®¡ç³»ç»Ÿé›†æˆ"
  - name: "Serena"
    flag: "--serena"
    detail: "æ·±åº¦ä»£ç ç†è§£..."
docs_dependencies:
  guides: [...]
  estimated_tokens: 1243
  lazy_load: true
context_rules: [...]
---
```

**SuperClaude** (8 å­—æ®µ):
```yaml
---
name: implement
description: "..."
category: workflow
complexity: standard
mcp-servers: [context7, sequential, magic]
personas: [architect, frontend, backend]
---
```

#### æ ¹å› 3: MCP è¯´æ˜å†—é•¿

æ¯ä¸ª MCP éƒ½æœ‰ 30-50 è¡Œçš„è¯¦ç»†è¯´æ˜ã€ç¤ºä¾‹ã€æ”¹è¿›ç‚¹ã€‚SuperClaude åªåœ¨æ­£æ–‡ç®€è¦è¯´æ˜ï¼Œè¯¦æƒ…åœ¨ MCP æ–‡æ¡£ã€‚

#### æ ¹å› 4: ç¼ºå°‘å±‚æ¬¡åŒ–è®¾è®¡

AI Workflow æ¯ä¸ªå‘½ä»¤éƒ½æ˜¯ç‹¬ç«‹å®Œæ•´çš„"å·¨çŸ³"ã€‚SuperClaude æœ‰å…ƒå‘½ä»¤ï¼ˆpm, scï¼‰åè°ƒå­å‘½ä»¤ã€‚

---

### å½±å“è¯„ä¼°

**Token æ¶ˆè€—**:
```
å‘½ä»¤åŠ è½½æˆæœ¬ (æ¯æ¬¡æ‰§è¡Œ):
- wf_08_review.md: ~1,400 tokens
- wf_03_prime.md: ~900 tokens
- wf_05_code.md: ~850 tokens
- å¹³å‡: ~450 tokens/å‘½ä»¤

å…¸å‹ä¼šè¯ (5ä¸ªå‘½ä»¤):
- å‘½ä»¤å®šä¹‰: 2,250 tokens
- å®é™…å·¥ä½œ: 8,000 tokens
- æ€»è®¡: 10,250 tokens

å‘½ä»¤å®šä¹‰å æ¯”: 22% (æµªè´¹ï¼)
```

**ç»´æŠ¤æˆæœ¬**:
- ä¿®æ”¹ä¸€ä¸ªå‘½ä»¤éœ€è¦é˜…è¯» 500-1900 è¡Œ
- æŸ¥æ‰¾ç‰¹å®šé€»è¾‘å›°éš¾
- ç‰ˆæœ¬æ§åˆ¶å†²çªé¢‘ç¹

**è®¤çŸ¥è´Ÿè·**:
- AI éœ€è¦ç†è§£å¤§é‡ä¸Šä¸‹æ–‡æ‰èƒ½æ‰§è¡Œ
- ç”¨æˆ·éš¾ä»¥ç†è§£å‘½ä»¤è¡Œä¸º
- æ–°æ‰‹å­¦ä¹ æ›²çº¿é™¡å³­

---

## ğŸ” é—®é¢˜2: å¤§æ–‡æ¡£éšæœºè¯»å–å¯¼è‡´ä¸Šä¸‹æ–‡çˆ†ç‚¸

### ç°çŠ¶é‡åŒ–

**è¶…å¤§æ–‡æ¡£æ¸…å•** (>500è¡Œ):

```
ğŸ”´ å±é™©çº§ (>1000è¡Œ):
  TASK.md                                    1,147 è¡Œ  ~5,000 tokens
  PLANNING.md                                  869 è¡Œ  ~3,800 tokens

ğŸŸ  è­¦å‘Šçº§ (500-1000è¡Œ):
  superclaude_vs_ai_workflow_comparison.md   849 è¡Œ  ~3,700 tokens
  task-3.1-implementation-plan.md            728 è¡Œ  ~3,200 tokens
  SERENA_LSP_SETUP.md                        710 è¡Œ  ~3,100 tokens
  MCP_USER_GUIDE.md                          686 è¡Œ  ~3,000 tokens
  OPTIMIZATION_GUIDE.md                      674 è¡Œ  ~2,950 tokens
  FRONTMATTER.md                             645 è¡Œ  ~2,820 tokens
  MCP_INTEGRATION_STRATEGY.md                638 è¡Œ  ~2,790 tokens
  MCP_VALIDATION_CHECKLIST.md                622 è¡Œ  ~2,720 tokens
  MCP_IMPLEMENTATION_GUIDE.md                615 è¡Œ  ~2,690 tokens
  mcp-gateway-architecture-design.md         561 è¡Œ  ~2,450 tokens
  AI_ROLES_LIBRARY.md                        547 è¡Œ  ~2,390 tokens
  MCP_INTEGRATION_GUIDE.md                   534 è¡Œ  ~2,340 tokens
  MCP_ARCHITECTURE.md                        531 è¡Œ  ~2,320 tokens
  agent-mcp-toolset-analysis.md              527 è¡Œ  ~2,300 tokens
  parallel_execution_tips.md                 513 è¡Œ  ~2,240 tokens

æ€»è®¡: 17ä¸ªæ–‡æ¡£, ~46,000 tokens æ½œåœ¨é£é™©
```

### è§¦å‘åœºæ™¯

**åœºæ™¯1: å¥½å¥‡å¿ƒæ¢ç´¢**
```
ç”¨æˆ·: "MCPé›†æˆç­–ç•¥æ˜¯ä»€ä¹ˆï¼Ÿ"
AI: [è¯»å– MCP_INTEGRATION_STRATEGY.md å…¨æ–‡]
ç»“æœ: +2,790 tokens (12% ä¸Šä¸‹æ–‡)
```

**åœºæ™¯2: ä»»åŠ¡çŠ¶æ€æŸ¥è¯¢**
```
ç”¨æˆ·: "å½“å‰æœ‰å“ªäº›å¾…åšä»»åŠ¡ï¼Ÿ"
AI: [è¯»å– TASK.md å…¨æ–‡ 1,147è¡Œ]
ç»“æœ: +5,000 tokens (25% ä¸Šä¸‹æ–‡!) âš ï¸ çˆ†ç‚¸
```

**åœºæ™¯3: æ·±åº¦ç ”ç©¶**
```
å‘½ä»¤: /wf_04_research "SuperClaudeå¯¹æ¯”"
AI: [è¯»å– superclaude_vs_ai_workflow_comparison.md]
ç»“æœ: +3,700 tokens
```

**åœºæ™¯4: è¿é”ååº”**
```
/wf_03_prime (è¯»å–5ä¸ªç®¡ç†æ–‡æ¡£)
  â†“
å¥½å¥‡æŸ¥çœ‹ OPTIMIZATION_GUIDE.md (+2,950 tokens)
  â†“
å‚è€ƒ MCP_INTEGRATION_STRATEGY.md (+2,790 tokens)
  â†“
æŸ¥é˜… TASK.md è¯¦æƒ… (+5,000 tokens)
  â†“
æ€»è®¡: åŸºç¡€ 8,000 + é¢å¤– 10,740 = 18,740 tokens (94% ä¸Šä¸‹æ–‡!)
```

### æ ¹å› åˆ†æ

#### æ ¹å› 1: ç¼ºå°‘å¤§å°ä¿æŠ¤æœºåˆ¶

**å½“å‰çŠ¶æ€**:
- AI ä¸çŸ¥é“å“ªäº›æ–‡æ¡£æ˜¯"å±é™©çš„"
- æ²¡æœ‰è¯»å–å‰çš„å¤§å°æ£€æŸ¥
- æ²¡æœ‰æ™ºèƒ½è¯»å–ç­–ç•¥

**åº”è¯¥æœ‰çš„æœºåˆ¶**:
```python
def safe_read(file_path):
    lines = count_lines(file_path)

    if lines < 200:
        return read_full(file_path)
    elif lines < 500:
        return read_with_warning(file_path)
    else:
        # ç¦æ­¢ç›´æ¥è¯»å–
        return read_summary_or_ask_user(file_path)
```

#### æ ¹å› 2: ç®¡ç†æ–‡æ¡£è¿‡å¤§

TASK.md å’Œ PLANNING.md åº”è¯¥æ˜¯è½»é‡çº§æŒ‡é’ˆæ–‡æ¡£ï¼Œä½†ç°åœ¨æ˜¯å·¨å‹æ–‡æ¡£ï¼š

**TASK.md é—®é¢˜**:
- åŒ…å«æ‰€æœ‰å†å²ä»»åŠ¡ï¼ˆ5ä¸ªPhase, 24ä¸ªtasksï¼‰
- æ¯ä¸ªä»»åŠ¡æœ‰è¯¦ç»†è¯´æ˜ã€éªŒæ”¶æ ‡å‡†ã€ç›¸å…³æ–‡æ¡£
- åº”è¯¥åªä¿ç•™æ´»è·ƒä»»åŠ¡ï¼Œå†å²å½’æ¡£

**PLANNING.md é—®é¢˜**:
- åŒ…å«å®Œæ•´æŠ€æœ¯æ¶æ„ã€æ‰€æœ‰å†³ç­–è®°å½•
- åº”è¯¥åªä¿ç•™æ ¸å¿ƒæ¶æ„ï¼Œè¯¦æƒ…å¤–ç½®åˆ° docs/architecture/

#### æ ¹å› 3: ç¼ºå°‘æ‘˜è¦ç³»ç»Ÿ

æ‰€æœ‰å¤§æ–‡æ¡£éƒ½æ²¡æœ‰æ‘˜è¦ï¼Œå¿…é¡»å…¨æ–‡è¯»å–æ‰èƒ½äº†è§£å†…å®¹ã€‚åº”è¯¥æœ‰ï¼š
```
docs/integration/MCP_INTEGRATION_STRATEGY.md (638è¡Œ)
docs/integration/.summaries/MCP_INTEGRATION_STRATEGY.summary.md (50è¡Œ)
```

æ‘˜è¦åŒ…å«ï¼š
- æ ¸å¿ƒè§‚ç‚¹ï¼ˆ3-5ä¸ª bullet pointsï¼‰
- ç« èŠ‚ç´¢å¼•ï¼ˆå¸¦è¡Œå·èŒƒå›´ï¼‰
- å…³é”®å†³ç­–å’Œç»“è®º

#### æ ¹å› 4: ç´¢å¼•ç³»ç»Ÿä¸å®Œå–„

KNOWLEDGE.md åªåˆ—å‡ºæ–‡æ¡£è·¯å¾„ï¼Œæ²¡æœ‰æ ‡æ³¨å¤§å°å’Œè¯»å–ç­–ç•¥ï¼š

**å½“å‰**:
```markdown
| ä¸»é¢˜ | æ–‡æ¡£è·¯å¾„ | è¯´æ˜ | ä¼˜å…ˆçº§ |
|------|---------|------|--------|
| MCPé›†æˆ | MCP_INTEGRATION_STRATEGY.md | ... | é«˜ |
```

**åº”è¯¥**:
```markdown
| ä¸»é¢˜ | æ–‡æ¡£ | å¤§å° | è¯»å–ç­–ç•¥ | ä¼˜å…ˆçº§ |
|------|------|------|---------|---------|
| MCPé›†æˆ | MCP_INTEGRATION_STRATEGY.md | ğŸ”´ 638è¡Œ | æ‘˜è¦ä¼˜å…ˆ | é«˜ |
```

---

## ğŸ’¡ è§£å†³æ–¹æ¡ˆæ¶æ„

### æ–¹æ¡ˆA: å‘½ä»¤æ–‡ä»¶ç˜¦èº«ï¼ˆå‚è€ƒ SuperClaudeï¼‰

#### A1. Frontmatter ç®€åŒ–

**ç›®æ ‡**: ä» 20+ å­—æ®µå‡å°‘åˆ° 8-10 ä¸ªæ ¸å¿ƒå­—æ®µ

**ç®€åŒ–ç­–ç•¥**:
```yaml
---
# æ ¸å¿ƒå­—æ®µ (å¿…é¡»)
command: /wf_05_code
category: workflow
complexity: standard

# MCP é›†æˆ (ç®€åŒ–)
mcp_servers: [serena, magic]

# Personas (æ–°å¢ï¼Œå‚è€ƒ SuperClaude)
personas: [implementation-engineer, qa-specialist]

# å¤–ç½®é…ç½® (æ–°å¢)
config: configs/wf_05_code.json

# Token é¢„ç®—
token_budget: complex
---
```

**å¤–ç½®åˆ° JSON**:
```json
{
  "reads": ["PLANNING.md", "TASK.md", "KNOWLEDGE.md"],
  "writes": ["ä»£ç æ–‡ä»¶", "TASK.md"],
  "prev_commands": ["/wf_03_prime", "/wf_04_ask"],
  "next_commands": ["/wf_07_test", "/wf_08_review"],
  "docs_dependencies": {
    "guides": ["wf_05_code_workflows.md"],
    "estimated_tokens": 1243,
    "lazy_load": true
  },
  "context_rules": [...]
}
```

**Token èŠ‚çœ**: æ¯ä¸ªå‘½ä»¤å‡å°‘ 100-150 tokens

#### A2. æ­£æ–‡ç»“æ„åŒ–ï¼ˆSuperClaude æ¨¡å¼ï¼‰

**ç›®æ ‡**: æ¯ä¸ªå‘½ä»¤ <250 è¡Œï¼ˆå½“å‰å¹³å‡ 642 è¡Œï¼‰

**æ ‡å‡†ç»“æ„**:
```markdown
# /wf_05_code - Feature Implementation

> Behavioral instruction for feature implementation with MCP coordination

## Triggers (è§¦å‘åœºæ™¯)
- Feature development requests
- Code implementation needs
- Multi-file modifications

## Context Trigger Pattern (ä½¿ç”¨æ¨¡å¼)
```
/wf_05_code [feature-description] [--serena] [--ui]
```

## Behavioral Flow (è¡Œä¸ºæµç¨‹)
1. **Analyze**: éœ€æ±‚åˆ†æå’ŒæŠ€æœ¯æ ˆæ£€æµ‹
2. **Plan**: é€‰æ‹©æ–¹æ¡ˆå’Œæ¿€æ´»ç›¸å…³ personas
3. **Generate**: ç¼–å†™ä»£ç ï¼ˆéµå¾ª PLANNING.md æ ‡å‡†ï¼‰
4. **Validate**: è´¨é‡æ£€æŸ¥å’Œæµ‹è¯•å»ºè®®
5. **Integrate**: æ›´æ–°æ–‡æ¡£å’Œ TASK.md

Key behaviors:
- Context-aware persona activation
- Framework-specific patterns via Context7 MCP
- Systematic validation with quality gates

## MCP Integration (MCP é›†æˆ)
- **Serena MCP**: Code understanding (--serena flag)
- **Magic MCP**: UI generation (--ui flag)

## Tool Coordination (å·¥å…·åè°ƒ)
- **Write/Edit**: Code generation
- **Read/Grep**: Pattern detection
- **Task**: Large-scale delegation

## Key Patterns (å…³é”®æ¨¡å¼)
- Explore-First: å®šä½ â†’ ç†è§£ â†’ ä¿®æ”¹
- Parallel Development: å¤šæ–‡ä»¶å¹¶è¡Œå¼€å‘
- Quality Integration: å®ç° â†’ æµ‹è¯• â†’ å®¡æŸ¥

## Examples (ç¤ºä¾‹)

### Simple Feature
```
/wf_05_code "add password reset endpoint"
# Standard implementation flow
```

### Complex Feature with MCP
```
/wf_05_code "create user dashboard with analytics" --serena --ui
# Serena: code understanding
# Magic: UI component generation
```

## Boundaries (è¾¹ç•Œ)

**Will:**
- Implement features following PLANNING.md standards
- Apply MCP coordination when requested
- Update TASK.md automatically

**Will Not:**
- Override architectural constraints
- Skip quality gates without explicit permission
- Make security decisions without consultation
```

**è¯¦ç»†å†…å®¹å¤–ç½®**:
- `docs/guides/wf_05_code_guide.md` - å®Œæ•´ä½¿ç”¨æŒ‡å—
- `docs/examples/wf_05_code_examples.md` - è¯¦ç»†ç¤ºä¾‹é›†
- `docs/integration/wf_05_code_mcp.md` - MCP æ·±åº¦é›†æˆ

**Token èŠ‚çœ**: æ¯ä¸ªå‘½ä»¤å‡å°‘ 400-700 tokens

#### A3. ç¨‹åºåŒ–æè¿°ï¼ˆé¿å…å†—é•¿è‡ªç„¶è¯­è¨€ï¼‰

**å·®çš„ï¼ˆå†—é•¿ï¼‰**:
```markdown
åœ¨ä¼šè¯å¼€å§‹æ—¶ï¼Œé¦–å…ˆéœ€è¦æ£€æŸ¥ç”¨æˆ·æ˜¯å¦å·²ç»è¿è¡Œäº† /wf_03_prime å‘½ä»¤ã€‚
å¦‚æœç”¨æˆ·è¿˜æ²¡æœ‰è¿è¡Œè¿™ä¸ªå‘½ä»¤ï¼Œé‚£ä¹ˆåº”è¯¥ä¸»åŠ¨æç¤ºç”¨æˆ·å…ˆè¿è¡Œ /wf_03_prime
æ¥åŠ è½½é¡¹ç›®ä¸Šä¸‹æ–‡ã€‚å¦‚æœç”¨æˆ·å·²ç»è¿è¡Œäº†ï¼Œé‚£ä¹ˆå¯ä»¥ç»§ç»­æ‰§è¡Œåç»­æ­¥éª¤ã€‚
åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå¦‚æœå‘ç°...åˆ™...å¦åˆ™...
```

**å¥½çš„ï¼ˆç¨‹åºåŒ–ï¼‰**:
```yaml
Session Check:
  if not prime_loaded:
    prompt: "å»ºè®®å…ˆè¿è¡Œ /wf_03_prime"
  else:
    continue_with_task()
```

**Token èŠ‚çœ**: 50-70%

#### A4. åˆ†é˜¶æ®µè¿ç§»è®¡åˆ’

**Phase 1** (1å‘¨ - é«˜ROI):
```
ä¼˜å…ˆçº§1: æœ€å¤§çš„ 3 ä¸ªå‘½ä»¤
- wf_08_review.md (1905 â†’ 300 è¡Œ)
- wf_03_prime.md (1198 â†’ 250 è¡Œ)
- wf_05_code.md (1158 â†’ 250 è¡Œ)

èŠ‚çœ: ~3,300 tokens/ä¼šè¯
ROI: 16% token reduction (ç«‹å³è§æ•ˆ)
```

**Phase 2** (1å‘¨ - ä¸­ROI):
```
ä¼˜å…ˆçº§2: ä¸­å‹å‘½ä»¤
- wf_14_doc.md, wf_11_commit.md, wf_04_ask.md
- wf_06_debug.md

èŠ‚çœ: ~1,800 tokens/ä¼šè¯
ç´¯è®¡: 25% token reduction
```

**Phase 3** (å¯é€‰ - é•¿æœŸ):
```
ä¼˜å…ˆçº§3: å…¶ä½™å‘½ä»¤ + JSON é…ç½®ç³»ç»Ÿ
èŠ‚çœ: ~800 tokens/ä¼šè¯
ç´¯è®¡: 30% token reduction
```

---

### æ–¹æ¡ˆB: å¤§æ–‡æ¡£é˜²æŠ¤æœºåˆ¶

#### B1. æ–‡æ¡£å¤§å°é—¨æ§ï¼ˆå¼ºåˆ¶è§„åˆ™ï¼‰

**åœ¨ CLAUDE.md æ·»åŠ å¼ºåˆ¶æ‰§è¡Œè§„åˆ™**:

```markdown
### ğŸ“ æ–‡æ¡£è¯»å–ä¿æŠ¤è§„åˆ™ (MANDATORY)

**æ‰€æœ‰AIå¿…é¡»ä¸¥æ ¼éµå®ˆ**:

#### Step 1: è¯»å–å‰å¼ºåˆ¶æ£€æŸ¥
```bash
# åœ¨è¯»å–ä»»ä½•æ–‡æ¡£å‰æ‰§è¡Œ
lines=$(wc -l < "$file_path")
```

#### Step 2: å¤§å°åˆ†çº§å¤„ç†

**ğŸŸ¢ å®‰å…¨çº§ (<200è¡Œ)**:
- ç›´æ¥è¯»å–
- æ— éœ€è­¦å‘Š

**ğŸŸ¡ è­¦å‘Šçº§ (200-500è¡Œ)**:
- é€‰é¡¹1: è¯¢é—®ç”¨æˆ·æ˜¯å¦éœ€è¦å…¨æ–‡
- é€‰é¡¹2: è¯»å– frontmatter + å‰100è¡Œ
- é€‰é¡¹3: ä½¿ç”¨ grep å®šä½å…³é”®ç« èŠ‚

**ğŸ”´ å±é™©çº§ (>500è¡Œ)**:
- **ç¦æ­¢ç›´æ¥å…¨æ–‡è¯»å–**
- å¿…é¡»ä½¿ç”¨ä»¥ä¸‹ç­–ç•¥ä¹‹ä¸€:
  1. è¯»å–æ‘˜è¦æ–‡ä»¶ï¼ˆ.summaries/*.summary.mdï¼‰
  2. è¯»å– frontmatter + TOCï¼ˆå‰50è¡Œï¼‰
  3. ä½¿ç”¨ grep æœç´¢ç‰¹å®šå†…å®¹
  4. åˆ†æ®µè¯»å–ï¼ˆoffset + limitï¼Œæ¯æ¬¡æœ€å¤š200è¡Œï¼‰
  5. å‘ç”¨æˆ·è¯´æ˜æ–‡æ¡£å¤§å°ï¼Œè¯·æ±‚é€‰æ‹©ç« èŠ‚

#### Step 3: å¼‚å¸¸å¤„ç†

å¦‚æœå¿…é¡»è¯»å–å¤§æ–‡æ¡£ï¼š
```markdown
âš ï¸ æ–‡æ¡£è¾ƒå¤§ ({file_path}, {lines}è¡Œ)
å»ºè®®ç­–ç•¥ï¼š
1. ğŸ“‹ è¯»å–æ‘˜è¦ (.summaries/{file}.summary.md)
2. ğŸ“‘ è¯»å–ç›®å½• (å‰50è¡Œ)
3. ğŸ” æœç´¢å…³é”®è¯ (ä½¿ç”¨ grep)
4. ğŸ“– åˆ†æ®µè¯»å– (é€‰æ‹©ç« èŠ‚)

è¯·é€‰æ‹©ç­–ç•¥ (1-4):
```

#### Step 4: Token ç›‘æ§

æ¯æ¬¡è¯»å–åæ›´æ–°tokenæ¶ˆè€—ï¼š
```python
tokens_used += estimate_tokens(content)
if tokens_used > 15000:  # 75% è­¦å‘Šé˜ˆå€¼
    print("âš ï¸ Context usage: {tokens_used}/20000")
    print("ğŸ”’ å¯ç”¨ä¸¥æ ¼æ¨¡å¼ï¼šä»…æ‘˜è¦è¯»å–")
```
```

**å®æ–½æˆæœ¬**: 2å°æ—¶ï¼ˆæ›´æ–° CLAUDE.md + æµ‹è¯•ï¼‰
**ROI**: ç«‹å³é˜²æ­¢ä¸Šä¸‹æ–‡çˆ†ç‚¸ï¼ŒROI 10x+

#### B2. æ™ºèƒ½æ‘˜è¦ç³»ç»Ÿ

**ç›®æ ‡**: ä¸ºæ‰€æœ‰ >500 è¡Œæ–‡æ¡£åˆ›å»º 50-100 è¡Œæ‘˜è¦

**æ‘˜è¦æ–‡ä»¶ä½ç½®**:
```
docs/integration/MCP_INTEGRATION_STRATEGY.md (638è¡Œ)
docs/integration/.summaries/MCP_INTEGRATION_STRATEGY.summary.md (80è¡Œ)
```

**æ ‡å‡†æ‘˜è¦æ¨¡æ¿**:
```markdown
---
source: MCP_INTEGRATION_STRATEGY.md
source_lines: 638
summary_version: "1.0"
last_updated: "2025-12-09"
---

# MCPé›†æˆç­–ç•¥ - æ‘˜è¦

## ğŸ¯ æ ¸å¿ƒè§‚ç‚¹

1. **MCP Gateway ç»Ÿä¸€æ¥å£**: æ‰€æœ‰MCPé€šè¿‡ src/mcp/gateway.py è®¿é—®
2. **14/14 å‘½ä»¤100%è¦†ç›–**: Serena, Context7, Tavily, Magic å››ä¸ªMCP
3. **ä¸‰å±‚é€‰æ‹©ç­–ç•¥**: Default â†’ Role-based â†’ Conditional
4. **æ€§èƒ½ä¼˜åŒ–**: æ‰¹é‡åˆå§‹åŒ–é™ä½å¯åŠ¨æ—¶é—´ 3-5x

## ğŸ“š ç« èŠ‚ç´¢å¼•

| ç« èŠ‚ | è¡Œå· | è¯´æ˜ |
|------|------|------|
| Gateway æ¨¡å¼ | 1-120 | ç»Ÿä¸€æ¥å£è®¾è®¡ |
| å‘½ä»¤è¦†ç›– | 121-280 | 14ä¸ªå‘½ä»¤çš„MCPæ˜ å°„ |
| æ€§èƒ½ä¼˜åŒ– | 281-450 | æ‰¹é‡åˆå§‹åŒ–å’Œç¼“å­˜ |
| å®æ–½æŒ‡å— | 451-638 | é›†æˆæ­¥éª¤å’Œæµ‹è¯• |

## ğŸ”‘ å…³é”®å†³ç­–

1. **ä½¿ç”¨ Gateway è€Œéç›´æ¥è°ƒç”¨**: ç»Ÿä¸€ç®¡ç†ã€è‡ªåŠ¨é™çº§
2. **MCPSelector ç¼“å­˜**: TTL 300sï¼Œ10-50x æŸ¥è¯¢åŠ é€Ÿ
3. **å¼‚æ­¥æŸ¥è¯¢æ¨¡å¼**: å‡å°‘é˜»å¡æ—¶é—´

## ğŸ’¡ å¿«é€Ÿå‚è€ƒ

**è¯»å–å®Œæ•´æ–‡æ¡£**: éœ€è¦æ·±å…¥äº†è§£å®æ–½ç»†èŠ‚æ—¶
**ä½¿ç”¨æœ¬æ‘˜è¦**: äº†è§£æ ¸å¿ƒæ¦‚å¿µå’Œå†³ç­–å³å¯
```

**è‡ªåŠ¨ç”Ÿæˆè„šæœ¬**:
```bash
python scripts/generate_summaries.py docs/
# æ‰«ææ‰€æœ‰ >500 è¡Œæ–‡æ¡£
# ç”Ÿæˆæ‘˜è¦åˆ° .summaries/ ç›®å½•
```

**å®æ–½æˆæœ¬**: 1å¤©ï¼ˆ17ä¸ªæ–‡æ¡£ Ã— 30åˆ†é’Ÿï¼‰
**ROI**: æ¯æ¬¡é¿å…å¤§æ–‡æ¡£è¯»å–èŠ‚çœ 2000-5000 tokens

#### B3. ç®¡ç†æ–‡æ¡£æ‹†åˆ†

**TASK.md æ‹†åˆ†æ–¹æ¡ˆ** (1147è¡Œ â†’ 5ä¸ªæ–‡ä»¶):

```
docs/management/tasks/
â”œâ”€â”€ TASK_ACTIVE.md          # å½“å‰æ´»è·ƒä»»åŠ¡ (100-150è¡Œ)
â”œâ”€â”€ TASK_PHASE1.md          # Phase 1 å†å² (å·²å®Œæˆ)
â”œâ”€â”€ TASK_PHASE2.md          # Phase 2 å†å² (å·²å®Œæˆ)
â”œâ”€â”€ TASK_PHASE3.md          # Phase 3 å†å² (å·²å®Œæˆ)
â””â”€â”€ TASK_PHASE4-5.md        # Phase 4-5 å†å²

TASK.md (ä¸»æ–‡ä»¶ï¼Œ150è¡Œ):
  - æ•´ä½“è¿›åº¦æ¦‚è§ˆ
  - æŒ‡å‘å„ Phase æ–‡ä»¶çš„é“¾æ¥
  - å½“å‰æ´»è·ƒä»»åŠ¡çš„å†…è”å†…å®¹
```

**PLANNING.md æ‹†åˆ†æ–¹æ¡ˆ** (869è¡Œ â†’ 4ä¸ªæ–‡ä»¶):

```
docs/management/planning/
â”œâ”€â”€ PLANNING_CORE.md        # æ ¸å¿ƒæ¶æ„ (200è¡Œ)
â”œâ”€â”€ PLANNING_TECH_STACK.md  # æŠ€æœ¯æ ˆè¯¦æƒ…
â”œâ”€â”€ PLANNING_STANDARDS.md   # å¼€å‘æ ‡å‡†
â””â”€â”€ PLANNING_DECISIONS.md   # æ¶æ„å†³ç­–å†å²

PLANNING.md (ä¸»æ–‡ä»¶ï¼Œ250è¡Œ):
  - é¡¹ç›®æ¦‚è§ˆ
  - æ ¸å¿ƒæ¶æ„å›¾
  - æŒ‡å‘è¯¦ç»†æ–‡æ¡£çš„é“¾æ¥
```

**å®æ–½æˆæœ¬**: 3-4å°æ—¶
**ROI**: /wf_03_prime èŠ‚çœ 3000-4000 tokens

#### B4. KNOWLEDGE.md ç´¢å¼•å¢å¼º

**å½“å‰ç´¢å¼•**:
```markdown
| ä¸»é¢˜ | æ–‡æ¡£è·¯å¾„ | è¯´æ˜ | ä¼˜å…ˆçº§ | æœ€åæ›´æ–° |
```

**å¢å¼ºç´¢å¼•**:
```markdown
| ä¸»é¢˜ | æ–‡æ¡£ | å¤§å° | Tokens | è¯»å–ç­–ç•¥ | ä¼˜å…ˆçº§ | æœ€åæ›´æ–° |
|------|------|------|--------|---------|---------|---------|
| MCPé›†æˆç­–ç•¥ | MCP_INTEGRATION_STRATEGY.md | ğŸ”´ 638è¡Œ | ~2,790 | æ‘˜è¦ä¼˜å…ˆ | é«˜ | 2025-12-07 |
| MCPç”¨æˆ·æŒ‡å— | MCP_USER_GUIDE.md | ğŸŸ  686è¡Œ | ~3,000 | æ‘˜è¦ä¼˜å…ˆ | ä¸­ | 2025-12-06 |
| Frontmatter | FRONTMATTER.md | ğŸŸ  645è¡Œ | ~2,820 | åˆ†æ®µè¯»å– | é«˜ | 2025-11-23 |
| ä¼˜åŒ–æŒ‡å— | OPTIMIZATION_GUIDE.md | ğŸŸ  674è¡Œ | ~2,950 | æ‘˜è¦ä¼˜å…ˆ | é«˜ | 2025-12-05 |
| ä»»åŠ¡è¿½è¸ª | TASK.md | ğŸ”´ 1,147è¡Œ | ~5,000 | **ä»…è¯»æ´»è·ƒ** | é«˜ | 2025-12-08 |
| SuperClaudeå¯¹æ¯” | superclaude_vs_ai_workflow.md | ğŸŸ  849è¡Œ | ~3,700 | æ‘˜è¦ä¼˜å…ˆ | ä¸­ | 2025-12-03 |
```

**å›¾ä¾‹**:
- ğŸ”´ = å±é™© (>500è¡Œ) - **ç¦æ­¢ç›´æ¥è¯»å–**
- ğŸŸ¡ = è­¦å‘Š (300-500è¡Œ) - è°¨æ…è¯»å–
- ğŸŸ¢ = å®‰å…¨ (<300è¡Œ) - å¯ç›´æ¥è¯»å–

**è‡ªåŠ¨ç”Ÿæˆ**:
```bash
python scripts/update_knowledge_index.py
# æ‰«ææ‰€æœ‰æ–‡æ¡£
# æ›´æ–° KNOWLEDGE.md ç´¢å¼•è¡¨
# æ ‡æ³¨å¤§å°ã€tokensã€è¯»å–ç­–ç•¥
```

**å®æ–½æˆæœ¬**: 1å°æ—¶
**ROI**: æä¾›æ¸…æ™°çš„æ–‡æ¡£å¤§å°å¯è§æ€§

#### B5. ä¸Šä¸‹æ–‡ç›‘æ§å’Œå‘Šè­¦

**åœ¨å‘½ä»¤ frontmatter æ·»åŠ  token_guard**:

```yaml
---
command: /wf_05_code
token_guard:
  max_read_per_command: 5000  # å•æ¬¡å‘½ä»¤æœ€å¤šè¯»å–5k tokens
  warn_threshold: 3000         # è­¦å‘Šé˜ˆå€¼
  doc_size_limit: 500          # å•æ–‡æ¡£è¡Œæ•°é™åˆ¶
  strict_mode_threshold: 15000 # è¿›å…¥ä¸¥æ ¼æ¨¡å¼çš„æ€»tokenæ•°
---
```

**æ‰§è¡Œæ—¶æ£€æŸ¥é€»è¾‘**:

```python
# å‘½ä»¤å¼€å§‹æ—¶
current_tokens = estimate_current_context()

if current_tokens > strict_mode_threshold:
    print("ğŸ”’ Context >75%, å¯ç”¨ä¸¥æ ¼æ¨¡å¼")
    print("   - ç¦æ­¢è¯»å– >500 è¡Œæ–‡æ¡£")
    print("   - ä»…å…è®¸æ‘˜è¦è¯»å–")
    print("   - æ¯æ¬¡è¯»å–éœ€ç¡®è®¤")
    strict_mode = True

# è¯»å–å‰æ£€æŸ¥
if strict_mode and doc_lines > 500:
    raise ContextGuardError(
        f"ä¸¥æ ¼æ¨¡å¼ä¸‹ç¦æ­¢è¯»å–å¤§æ–‡æ¡£ ({doc_path}, {doc_lines}è¡Œ)"
    )
```

**å®æ–½æˆæœ¬**: 3-4å°æ—¶ï¼ˆæ·»åŠ æ£€æŸ¥é€»è¾‘ï¼‰
**ROI**: è‡ªåŠ¨é˜²æŠ¤ï¼Œé¿å…æ„å¤–çˆ†ç‚¸

---

### æ–¹æ¡ˆC: SuperClaude ç²¾é«“å€Ÿé‰´

#### C1. JSON é…ç½®ç³»ç»Ÿï¼ˆé•¿æœŸï¼‰

**ç›®æ ‡**: å°†å¤æ‚é…ç½®ä» Markdown frontmatter è¿ç§»åˆ° JSON

**é…ç½®æ–‡ä»¶ç»“æ„**:
```
commands/
â”œâ”€â”€ wf_05_code.md (ç®€åŒ–åˆ° 150-200 è¡Œ)
â””â”€â”€ configs/
    â””â”€â”€ wf_05_code.json
```

**JSON é…ç½®å†…å®¹**:
```json
{
  "command": "/wf_05_code",
  "metadata": {
    "category": "workflow",
    "phase": "å¼€å‘å®ç°",
    "complexity": "standard"
  },
  "io": {
    "reads": ["PLANNING.md", "TASK.md", "KNOWLEDGE.md"],
    "writes": ["ä»£ç æ–‡ä»¶", "TASK.md"]
  },
  "workflow": {
    "prev_commands": ["/wf_03_prime", "/wf_04_ask"],
    "next_commands": ["/wf_07_test", "/wf_08_review", "/wf_11_commit"]
  },
  "mcp": {
    "servers": [
      {
        "name": "Serena",
        "flag": "--serena",
        "auto_activate": false,
        "capabilities": ["code_understanding", "symbol_navigation"]
      },
      {
        "name": "Magic",
        "flag": "--ui",
        "auto_activate": false,
        "capabilities": ["ui_generation", "design_system"]
      }
    ]
  },
  "personas": [
    "implementation-engineer",
    "qa-specialist"
  ],
  "docs": {
    "guides": [
      "docs/guides/wf_05_code_workflows.md",
      "docs/guides/wf_05_code_serena_guide.md"
    ],
    "estimated_tokens": 1243,
    "lazy_load": true
  },
  "token_guard": {
    "max_read_per_command": 5000,
    "warn_threshold": 3000,
    "doc_size_limit": 500
  },
  "context_rules": [
    "éµå¾ªPLANNING.mdçš„ä»£ç æ ‡å‡†",
    "æ»¡è¶³PRDéœ€æ±‚",
    "æ›´æ–°TASK.mdè¿›åº¦"
  ],
  "examples": [
    {
      "name": "Simple Feature",
      "command": "/wf_05_code \"add password reset endpoint\"",
      "description": "Standard implementation flow"
    },
    {
      "name": "Complex with MCP",
      "command": "/wf_05_code \"user dashboard\" --serena --ui",
      "description": "Serena + Magic coordination"
    }
  ]
}
```

**ä¼˜åŠ¿**:
1. é…ç½®å’Œè¡Œä¸ºåˆ†ç¦»
2. æ˜“äºç¨‹åºåŒ–è§£æå’ŒéªŒè¯
3. æ”¯æŒç‰ˆæœ¬æ§åˆ¶å’Œæ¯”è¾ƒ
4. å¯ä»¥åŠ¨æ€åŠ è½½ï¼ˆæŒ‰éœ€ï¼‰

**å®æ–½æˆæœ¬**: 2-3å‘¨ï¼ˆå®Œå…¨é‡æ„ï¼‰
**ROI**: é•¿æœŸç»´æŠ¤æ€§æå‡ï¼Œæ¶æ„æ¸…æ™°

#### C2. å…ƒå‘½ä»¤ç³»ç»Ÿï¼ˆå¯é€‰ï¼‰

**å€Ÿé‰´ SuperClaude çš„ /sc:pm å’Œ /sc æ¨¡å¼**:

åˆ›å»ºä¸€ä¸ªé¡¶å±‚åè°ƒå‘½ä»¤ `/wf`ï¼ˆç±»ä¼¼ /scï¼‰:

```bash
# ç”¨æˆ·å‹å¥½çš„ç®€åŒ–å‘½ä»¤
/wf prime     â†’ /wf_03_prime
/wf code      â†’ /wf_05_code
/wf review    â†’ /wf_08_review
/wf commit    â†’ /wf_11_commit

# æ™ºèƒ½è·¯ç”±
/wf "æ·»åŠ ç”¨æˆ·ç™»å½•åŠŸèƒ½"
  â†’ è‡ªåŠ¨é€‰æ‹© /wf_05_code
  â†’ æ£€æµ‹éœ€è¦ /wf_04_ask å’¨è¯¢
```

**å…ƒå‘½ä»¤èŒè´£**:
- æ™ºèƒ½è·¯ç”±åˆ°å…·ä½“å‘½ä»¤
- ä¸Šä¸‹æ–‡ç®¡ç†å’Œæ£€æŸ¥
- MCP åè°ƒå’Œé€‰æ‹©
- Token é¢„ç®—ç®¡ç†

**å®æ–½æˆæœ¬**: 1-2å‘¨
**ROI**: ç”¨æˆ·ä½“éªŒæå‡ï¼Œä½†éå¿…éœ€

---

## ğŸ“Š ç»¼åˆå®æ–½è®¡åˆ’

### ç«‹å³å®æ–½ï¼ˆé«˜ROIï¼Œä½æˆæœ¬ï¼‰- 1-2å¤©

#### ä¼˜å…ˆçº§1: æ–‡æ¡£è¯»å–ä¿æŠ¤ âš¡ (2å°æ—¶)
**ä»»åŠ¡**:
- [ ] åœ¨ CLAUDE.md æ·»åŠ å¼ºåˆ¶æ–‡æ¡£è¯»å–è§„åˆ™
- [ ] åˆ›å»º scripts/check_doc_size.sh æ£€æŸ¥è„šæœ¬
- [ ] æµ‹è¯•å¤§æ–‡æ¡£è¯»å–ä¿æŠ¤

**éªŒæ”¶æ ‡å‡†**:
- AI è¯»å–ä»»ä½•æ–‡æ¡£å‰å…ˆæ£€æŸ¥è¡Œæ•°
- >500 è¡Œæ–‡æ¡£è§¦å‘ä¿æŠ¤æœºåˆ¶
- æä¾›æ‘˜è¦/åˆ†æ®µ/æœç´¢é€‰é¡¹

**Token èŠ‚çœ**: ç«‹å³é˜²æ­¢ 3000-6000 tokens çˆ†ç‚¸
**ROI**: **10x+** (2å°æ—¶æŠ•å…¥ â†’ æ¯æ¬¡ä¼šè¯å¯èƒ½èŠ‚çœå‡ åƒtokens)

#### ä¼˜å…ˆçº§2: KNOWLEDGE.md ç´¢å¼•å¢å¼º (1å°æ—¶)
**ä»»åŠ¡**:
- [ ] æ‰«ææ‰€æœ‰æ–‡æ¡£å¤§å°
- [ ] æ›´æ–° KNOWLEDGE.md ç´¢å¼•è¡¨
- [ ] æ·»åŠ å¤§å°ã€tokensã€è¯»å–ç­–ç•¥åˆ—

**éªŒæ”¶æ ‡å‡†**:
- æ‰€æœ‰æ–‡æ¡£æ ‡æ³¨å¤§å°çº§åˆ«ï¼ˆğŸ”´ğŸŸ¡ğŸŸ¢ï¼‰
- æ˜ç¡®è¯»å–ç­–ç•¥
- è‡ªåŠ¨åŒ–æ›´æ–°è„šæœ¬

**Token èŠ‚çœ**: é—´æ¥ï¼ˆæä¾›å¯è§æ€§ï¼‰
**ROI**: 5xï¼ˆ1å°æ—¶ â†’ é¿å…æœªæ¥è¯¯è¯»ï¼‰

---

### çŸ­æœŸå®æ–½ï¼ˆä¸­ROIï¼Œä¸­æˆæœ¬ï¼‰- 1å‘¨

#### ä¼˜å…ˆçº§3: ç®¡ç†æ–‡æ¡£æ‹†åˆ† (4å°æ—¶)
**ä»»åŠ¡**:
- [ ] TASK.md æ‹†åˆ†ä¸º TASK_ACTIVE.md + 5ä¸ªPhaseæ–‡ä»¶
- [ ] PLANNING.md æ‹†åˆ†ä¸ºæ ¸å¿ƒ + è¯¦ç»†æ¨¡å—
- [ ] æ›´æ–°æ‰€æœ‰å¼•ç”¨é“¾æ¥

**éªŒæ”¶æ ‡å‡†**:
- TASK.md ä¸»æ–‡ä»¶ <200 è¡Œ
- PLANNING.md ä¸»æ–‡ä»¶ <250 è¡Œ
- /wf_03_prime æ­£å¸¸å·¥ä½œ

**Token èŠ‚çœ**: 3000-4000 tokens per /wf_03_prime
**ROI**: 6xï¼ˆ4å°æ—¶ â†’ æ¯æ¬¡primeèŠ‚çœ 3k+ tokensï¼‰

#### ä¼˜å…ˆçº§4: å‰3ä¸ªå‘½ä»¤ç˜¦èº« (1å‘¨)
**ä»»åŠ¡**:
- [ ] wf_08_review.md (1905 â†’ 300 è¡Œ)
- [ ] wf_03_prime.md (1198 â†’ 250 è¡Œ)
- [ ] wf_05_code.md (1158 â†’ 250 è¡Œ)
- [ ] è¯¦ç»†å†…å®¹å¤–ç½®åˆ° docs/guides/

**éªŒæ”¶æ ‡å‡†**:
- æ¯ä¸ªå‘½ä»¤ <350 è¡Œ
- Frontmatter <15 å­—æ®µ
- åŠŸèƒ½å®Œå…¨ä¿ç•™

**Token èŠ‚çœ**: ~3,300 tokens per session
**ROI**: 8xï¼ˆ40å°æ—¶ â†’ æ¯æ¬¡ä¼šè¯èŠ‚çœ 3.3k tokensï¼‰

---

### ä¸­æœŸå®æ–½ï¼ˆä¸­ROIï¼Œé«˜æˆæœ¬ï¼‰- 2å‘¨

#### ä¼˜å…ˆçº§5: æ™ºèƒ½æ‘˜è¦ç³»ç»Ÿ (1å‘¨)
**ä»»åŠ¡**:
- [ ] ä¸º 17 ä¸ªè¶…å¤§æ–‡æ¡£åˆ›å»ºæ‘˜è¦ï¼ˆæ¯ä¸ª30åˆ†é’Ÿï¼‰
- [ ] å®ç°è‡ªåŠ¨æ‘˜è¦ç”Ÿæˆè„šæœ¬
- [ ] æ›´æ–°è¯»å–é€»è¾‘ï¼ˆä¼˜å…ˆæ‘˜è¦ï¼‰

**éªŒæ”¶æ ‡å‡†**:
- æ‰€æœ‰ >500 è¡Œæ–‡æ¡£æœ‰æ‘˜è¦
- æ‘˜è¦æ–‡ä»¶ <100 è¡Œ
- AI é»˜è®¤è¯»å–æ‘˜è¦

**Token èŠ‚çœ**: 2000-5000 tokens per avoided full read
**ROI**: 4xï¼ˆ40å°æ—¶ â†’ é¢‘ç¹èŠ‚çœå¤§æ–‡æ¡£è¯»å–ï¼‰

#### ä¼˜å…ˆçº§6: å…¶ä½™å‘½ä»¤ç˜¦èº« (1å‘¨)
**ä»»åŠ¡**:
- [ ] wf_14_doc, wf_11_commit, wf_04_ask, wf_06_debug
- [ ] æ‰€æœ‰å‘½ä»¤æ ‡å‡†åŒ–ä¸º SuperClaude ç»“æ„

**éªŒæ”¶æ ‡å‡†**:
- æ‰€æœ‰å‘½ä»¤ <350 è¡Œ
- æ€»å¹³å‡ <250 è¡Œ

**Token èŠ‚çœ**: ~1,800 tokens per session
**ROI**: 3x

---

### é•¿æœŸä¼˜åŒ–ï¼ˆä½ROIï¼Œé«˜æˆæœ¬ï¼‰- 1ä¸ªæœˆ

#### ä¼˜å…ˆçº§7: JSON é…ç½®ç³»ç»Ÿ (2-3å‘¨)
**ä»»åŠ¡**:
- [ ] è®¾è®¡ JSON schema
- [ ] è¿ç§»æ‰€æœ‰å‘½ä»¤é…ç½®
- [ ] å®ç°åŠ¨æ€åŠ è½½ç³»ç»Ÿ
- [ ] å®Œæ•´æµ‹è¯•

**éªŒæ”¶æ ‡å‡†**:
- æ‰€æœ‰å‘½ä»¤æœ‰ .json é…ç½®
- Frontmatter <8 å­—æ®µ
- å‘åå…¼å®¹

**Token èŠ‚çœ**: ~500 tokens per command
**ROI**: 2xï¼ˆé•¿æœŸç»´æŠ¤æ€§æå‡ï¼‰

#### ä¼˜å…ˆçº§8: å…ƒå‘½ä»¤ç³»ç»Ÿï¼ˆå¯é€‰ï¼‰
**ä»»åŠ¡**:
- [ ] åˆ›å»º /wf å…ƒå‘½ä»¤
- [ ] æ™ºèƒ½è·¯ç”±é€»è¾‘
- [ ] ç”¨æˆ·ä½“éªŒä¼˜åŒ–

**éªŒæ”¶æ ‡å‡†**:
- /wf ç®€åŒ–å‘½ä»¤å¯ç”¨
- æ™ºèƒ½é€‰æ‹©æ­£ç¡®çš„å­å‘½ä»¤

**Token èŠ‚çœ**: é—´æ¥
**ROI**: 1.5xï¼ˆç”¨æˆ·ä½“éªŒï¼‰

---

## ğŸ¯ é¢„æœŸæ•ˆæœ

### Token èŠ‚çœé¢„æµ‹

```
ç«‹å³æªæ–½ (1-2å¤©):
  - æ–‡æ¡£è¯»å–ä¿æŠ¤: é˜²æ­¢ 3000-6000 tokens çˆ†ç‚¸
  - ç´¢å¼•å¢å¼º: æä¾›å¯è§æ€§
  ç´¯è®¡å½±å“: æ¯æ¬¡ä¼šè¯æœ€å¤šèŠ‚çœ 6000 tokens (30%)

çŸ­æœŸä¼˜åŒ– (1å‘¨):
  - ç®¡ç†æ–‡æ¡£æ‹†åˆ†: 3000-4000 tokens (/wf_03_prime)
  - å‰3å‘½ä»¤ç˜¦èº«: 3300 tokens (per session)
  ç´¯è®¡å½±å“: æ¯æ¬¡ä¼šè¯èŠ‚çœ 6000-7000 tokens (30-35%)

ä¸­æœŸå®æ–½ (2å‘¨):
  - æ‘˜è¦ç³»ç»Ÿ: 2000-5000 tokens (per avoided read)
  - å…¶ä½™å‘½ä»¤ç˜¦èº«: 1800 tokens (per session)
  ç´¯è®¡å½±å“: æ¯æ¬¡ä¼šè¯èŠ‚çœ 8000-10000 tokens (40-50%)

é•¿æœŸé‡æ„ (1ä¸ªæœˆ):
  - JSON é…ç½®: 500 tokens (per command)
  - å…ƒå‘½ä»¤: é—´æ¥æå‡
  ç´¯è®¡å½±å“: æ¯æ¬¡ä¼šè¯èŠ‚çœ 10000-12000 tokens (50-60%)
```

### æ¶æ„å¥åº·åº¦æå‡

**å½“å‰çŠ¶æ€**:
```
å‘½ä»¤å¹³å‡å¤§å°: 642 è¡Œ
æœ€å¤§å‘½ä»¤: 1905 è¡Œ
æ–‡æ¡£è¯»å–: æ— ä¿æŠ¤
ä¸Šä¸‹æ–‡çˆ†ç‚¸é£é™©: é«˜
ç»´æŠ¤æˆæœ¬: é«˜
```

**ç›®æ ‡çŠ¶æ€**ï¼ˆ2-4å‘¨åï¼‰:
```
å‘½ä»¤å¹³å‡å¤§å°: <250 è¡Œ (â†“ 61%)
æœ€å¤§å‘½ä»¤: <350 è¡Œ (â†“ 82%)
æ–‡æ¡£è¯»å–: ä¸‰çº§ä¿æŠ¤
ä¸Šä¸‹æ–‡çˆ†ç‚¸é£é™©: ä½
ç»´æŠ¤æˆæœ¬: ä½
æ¶æ„æ¸…æ™°åº¦: é«˜
```

---

## ğŸ“‹ å®æ–½æ£€æŸ¥æ¸…å•

### Week 1: ç«‹å³æªæ–½ + çŸ­æœŸå¼€å§‹

- [ ] **Day 1-2**: æ–‡æ¡£è¯»å–ä¿æŠ¤
  - [ ] æ›´æ–° CLAUDE.mdï¼ˆå¼ºåˆ¶è§„åˆ™ï¼‰
  - [ ] åˆ›å»º check_doc_size.sh
  - [ ] æµ‹è¯•ä¿æŠ¤æœºåˆ¶
  - [ ] æ›´æ–° KNOWLEDGE.md ç´¢å¼•

- [ ] **Day 3-4**: ç®¡ç†æ–‡æ¡£æ‹†åˆ†
  - [ ] æ‹†åˆ† TASK.md
  - [ ] æ‹†åˆ† PLANNING.md
  - [ ] æ›´æ–°å¼•ç”¨é“¾æ¥
  - [ ] æµ‹è¯• /wf_03_prime

- [ ] **Day 5-7**: å¼€å§‹å‘½ä»¤ç˜¦èº«
  - [ ] wf_08_review.md é‡æ„
  - [ ] wf_03_prime.md é‡æ„
  - [ ] wf_05_code.md é‡æ„ï¼ˆè¿›è¡Œä¸­ï¼‰

### Week 2: å®ŒæˆçŸ­æœŸ + ä¸­æœŸå¼€å§‹

- [ ] **Day 8-10**: å®Œæˆå‰3å‘½ä»¤
  - [ ] æµ‹è¯•å’ŒéªŒè¯
  - [ ] æ–‡æ¡£å¤–ç½®
  - [ ] æ›´æ–°é“¾æ¥

- [ ] **Day 11-14**: æ‘˜è¦ç³»ç»Ÿ
  - [ ] åˆ›å»ºæ‘˜è¦æ¨¡æ¿
  - [ ] ç”Ÿæˆ17ä¸ªæ‘˜è¦
  - [ ] å®ç°è‡ªåŠ¨è„šæœ¬
  - [ ] æ›´æ–°è¯»å–é€»è¾‘

### Week 3-4: ä¸­æœŸå®Œæˆ

- [ ] **Day 15-21**: å…¶ä½™å‘½ä»¤ç˜¦èº«
  - [ ] 4ä¸ªä¸­å‹å‘½ä»¤é‡æ„
  - [ ] æ ‡å‡†åŒ–æ‰€æœ‰å‘½ä»¤
  - [ ] å®Œæ•´æµ‹è¯•

### Week 5-8: é•¿æœŸä¼˜åŒ–ï¼ˆå¯é€‰ï¼‰

- [ ] **Week 5-6**: JSON é…ç½®ç³»ç»Ÿ
- [ ] **Week 7-8**: å…ƒå‘½ä»¤ç³»ç»Ÿï¼ˆå¦‚æœéœ€è¦ï¼‰

---

## ğŸ”š ç»“è®º

### æ ¸å¿ƒå‘ç°

1. **å‘½ä»¤è†¨èƒ€ä¸¥é‡**: å¹³å‡ 642 è¡Œï¼ˆSuperClaude ä»… 193 è¡Œï¼‰ï¼Œ**å¤§ 3.3 å€**
2. **æ–‡æ¡£è¯»å–å¤±æ§**: 17 ä¸ªæ–‡æ¡£ >500 è¡Œï¼Œæ½œåœ¨ 46,000 tokens é£é™©
3. **æ¶æ„å¯æ”¹è¿›**: å†…è”æ–‡æ¡£ã€å†—é•¿frontmatterã€ç¼ºå°‘ä¿æŠ¤æœºåˆ¶

### è§£å†³æ–¹æ¡ˆæ ¸å¿ƒ

1. **ç«‹å³é˜²æŠ¤**: æ–‡æ¡£å¤§å°é—¨æ§ï¼ˆ2å°æ—¶ â†’ ROI 10xï¼‰
2. **ç»“æ„ä¼˜åŒ–**: å‘½ä»¤ç˜¦èº«åˆ° <250 è¡Œï¼ˆ1-2å‘¨ â†’ ROI 6-8xï¼‰
3. **æ™ºèƒ½è¯»å–**: æ‘˜è¦ç³»ç»Ÿå’Œåˆ†æ®µè¯»å–ï¼ˆ2å‘¨ â†’ ROI 4xï¼‰
4. **é•¿æœŸé‡æ„**: JSONé…ç½®å’Œå…ƒå‘½ä»¤ï¼ˆ1ä¸ªæœˆ â†’ ROI 2xï¼‰

### æœ€ç»ˆæ•ˆæœ

**Token èŠ‚çœ**: 30-60% (æ¯æ¬¡ä¼šè¯èŠ‚çœ 6,000-12,000 tokens)
**æ¶æ„å¥åº·**: å‘½ä»¤å¤§å° â†“61%, æœ€å¤§å‘½ä»¤ â†“82%
**ç»´æŠ¤æˆæœ¬**: æ˜¾è‘—é™ä½
**ä¸Šä¸‹æ–‡é£é™©**: ä»"é«˜"é™è‡³"ä½"

### è¡ŒåŠ¨å»ºè®®

**ç«‹å³å¼€å§‹** (æœ¬å‘¨):
1. å®æ–½æ–‡æ¡£è¯»å–ä¿æŠ¤ï¼ˆ2å°æ—¶ï¼‰
2. æ›´æ–° KNOWLEDGE.md ç´¢å¼•ï¼ˆ1å°æ—¶ï¼‰
3. æ‹†åˆ†ç®¡ç†æ–‡æ¡£ï¼ˆ4å°æ—¶ï¼‰

**çŸ­æœŸè®¡åˆ’** (2å‘¨):
4. å‰3ä¸ªå‘½ä»¤ç˜¦èº«
5. å¯åŠ¨æ‘˜è¦ç³»ç»Ÿ

**é•¿æœŸè€ƒè™‘** (1-2ä¸ªæœˆ):
6. JSON é…ç½®è¿ç§»
7. å…ƒå‘½ä»¤ç³»ç»Ÿ

---

**æŠ¥å‘Šå®Œæˆæ—¥æœŸ**: 2025-12-09
**åˆ†æå¸ˆ**: Claude (AI Workflow Optimization)
**å‚è€ƒ**: SuperClaude Framework, KNOWLEDGE.md, TASK.md
**ä¸‹ä¸€æ­¥**: åˆ›å»ºå®æ–½ADRå’Œä»»åŠ¡è®¡åˆ’
