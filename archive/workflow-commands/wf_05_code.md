---
command: /wf_05_code
index: 05
phase: "å¼€å‘å®ç°"
description: "åŠŸèƒ½å®ç°åè°ƒå™¨ï¼Œéµå¾ªæ¶æ„æ ‡å‡†ç¼–å†™ä»£ç ï¼Œé›†æˆ Ultrathink ä¼˜é›…å®ç° | MCP: --ui / --serena"
reads: [PLANNING.md(å¼€å‘æ ‡å‡†), TASK.md(å½“å‰ä»»åŠ¡), KNOWLEDGE.md(ä»£ç æ¨¡å¼), PHILOSOPHY.md(å¯é€‰)]
writes: [ä»£ç æ–‡ä»¶, TASK.md(çŠ¶æ€æ›´æ–°)]
prev_commands: [/wf_03_prime, /wf_04_ask]
next_commands: [/wf_07_test, /wf_08_review, /wf_11_commit]
model: sonnet
token_budget: complex
ultrathink_lens: "craft_elegance"
mcp_support:
  - name: "Magic"
    flag: "--ui"
    detail: "UIç»„ä»¶ç”Ÿæˆå’Œè®¾è®¡ç³»ç»Ÿé›†æˆ"
  - name: "Serena"
    flag: "--serena"
    detail: "æ·±åº¦ä»£ç ç†è§£ã€ç²¾ç¡®å®šä½ã€æ™ºèƒ½ä»£ç æ’å…¥ç‚¹"
docs_dependencies:
  guides:
    - docs/guides/wf_05_code_workflows.md
    - docs/guides/wf_05_code_serena_guide.md
    - docs/guides/wf_05_code_doc_sync_guide.md
  estimated_tokens: 1243
  lazy_load: true
  execution_model: "synchronous"
  note: "æŒ‡å—æ–‡æ¡£æŒ‰éœ€åŠ è½½ï¼ˆDocLoaderç«‹å³è¿”å›ï¼‰ã€‚å‘½ä»¤æ‰§è¡Œæ˜¯åŒæ­¥çš„ï¼Œæ— éœ€ç­‰å¾…ã€‚"
context_rules:
  - "éµå¾ªPLANNING.mdçš„ä»£ç æ ‡å‡†"
  - "æ»¡è¶³PRDéœ€æ±‚"
  - "æ›´æ–°TASK.mdè¿›åº¦"
  - "Ultrathink ä¼˜é›…å®ç°ï¼ˆCraft, Don't Codeï¼‰ï¼šå‡½æ•°åæ¸…æ™°ã€æŠ½è±¡è‡ªç„¶ã€é”™è¯¯å¤„ç†ä¼˜é›…"
  - "âœ… æ”¯æŒ --serena æ ‡å¿—ç”¨äºå¤æ‚ä¿®æ”¹ï¼Œç²¾ç¡®å®šä½ä»£ç ä½ç½®"
---

## ğŸ¤– AI æ‰§è¡Œæç¤ºï¼ˆé‡è¦ï¼‰

**âš ï¸ å…³é”®è§„åˆ™**ï¼š
- **Slash commands æ˜¯åŒæ­¥æ‰§è¡Œçš„**ï¼Œæ— éœ€ç­‰å¾…"åŠ è½½å®Œæˆ"
- çœ‹åˆ° `<command-message>wf_05_code is runningâ€¦</command-message>` æ—¶ï¼Œ**ç«‹å³å¼€å§‹æ‰§è¡Œ** Step 0
- **ç¦æ­¢**è¾“å‡º"è®©æˆ‘ç­‰å¾…å‘½ä»¤åŠ è½½å®Œæˆ"æˆ–ç±»ä¼¼è¯è¯­
- `lazy_load: true` è¡¨ç¤ºä½¿ç”¨ DocLoader **æŒ‰éœ€åŠ è½½**ï¼Œæ‰€æœ‰å·¥å…·è°ƒç”¨éƒ½æ˜¯**ç«‹å³è¿”å›**çš„
- æ‰€æœ‰æ­¥éª¤åº”**è¿ç»­æ‰§è¡Œ**ï¼Œæ— æš‚åœç‚¹

## ğŸ”Œ MCP å¢å¼ºèƒ½åŠ›

æœ¬å‘½ä»¤æ”¯æŒä»¥ä¸‹ MCP æœåŠ¡å™¨çš„å¯é€‰å¢å¼ºï¼š

### Serena (æ·±åº¦ä»£ç ç†è§£)

**å¯ç”¨**: `--serena` æ ‡å¿—
**ç”¨é€”**: å¤æ‚ä»£ç ä¿®æ”¹æ—¶çš„ç²¾ç¡®å®šä½å’Œæ™ºèƒ½æ’å…¥ç‚¹æ£€æµ‹
**è‡ªåŠ¨æ¿€æ´»**: å¦ (ç”¨æˆ·æ˜ç¡®å¯ç”¨)

**ç¤ºä¾‹**:
```bash
# åœ¨å¤§å‹ç±»ä¸­ç²¾ç¡®æ·»åŠ æ–°æ–¹æ³•
/wf_05_code "åœ¨ UserService ä¸­æ·»åŠ å¯†ç é‡ç½®æ–¹æ³•" --serena

# ç†è§£å¤æ‚ä»£ç ç»“æ„åè¿›è¡Œä¿®æ”¹
/wf_05_code "é‡æ„æ”¯ä»˜æ¨¡å—çš„äº‹åŠ¡å¤„ç†é€»è¾‘" --serena
```

**æ”¹è¿›ç‚¹**:
- ç²¾ç¡®ä»£ç ä½ç½®è¯†åˆ«ï¼ˆå‡†ç¡®ç‡ 95%ï¼‰
- æ™ºèƒ½æ’å…¥ç‚¹æ£€æµ‹ï¼ˆé¿å…ç ´åç°æœ‰ä»£ç ï¼‰
- ç¬¦å·çº§ä»£ç ç†è§£ï¼ˆç±»ã€æ–¹æ³•ã€å˜é‡å…³ç³»ï¼‰
- æ—¶é—´èŠ‚çœ 50-70%

---

### Magic (UI ç»„ä»¶ç”Ÿæˆ)

**å¯ç”¨**: `--ui` æ ‡å¿—
**ç”¨é€”**: ç”Ÿæˆäº¤äº’å¼ UI ç»„ä»¶å’Œè®¾è®¡ç³»ç»Ÿé›†æˆ
**è‡ªåŠ¨æ¿€æ´»**: å¦ (ç”¨æˆ·æ˜ç¡®å¯ç”¨)

**ç¤ºä¾‹**:
```bash
# ç”Ÿæˆ Material Design æŒ‰é’®ç»„ä»¶
/wf_05_code "åˆ›å»ºç”¨æˆ·ç™»å½•è¡¨å•" --ui

# è®¾è®¡ç³»ç»Ÿé›†æˆ
/wf_05_code "æ·»åŠ å“åº”å¼å¯¼èˆªæ " --ui
```

**æ”¹è¿›ç‚¹**:
- è‡ªåŠ¨ç”Ÿæˆ UI ç»„ä»¶ä»£ç 
- è®¾è®¡ç³»ç»Ÿé›†æˆï¼ˆMaterial, Ant Design ç­‰ï¼‰
- å“åº”å¼å¸ƒå±€æ”¯æŒ
- äº¤äº’é€»è¾‘ç”Ÿæˆ

---

### ç»„åˆä½¿ç”¨

```bash
# åŒæ—¶å¯ç”¨ Serena å’Œ Magic
/wf_05_code "åœ¨ Dashboard ä¸­æ·»åŠ æ•°æ®å¯è§†åŒ–ç»„ä»¶" --serena --ui

# è¾“å‡ºåŒ…å«:
# 1. Serena: ç²¾ç¡®å®šä½ Dashboard ç»„ä»¶ä½ç½®
# 2. Magic: ç”Ÿæˆå¯è§†åŒ–ç»„ä»¶ UI ä»£ç 
# 3. Integration: æ™ºèƒ½åˆå¹¶åˆ°ç°æœ‰ä»£ç 
```

---

### ğŸ”§ MCP Gateway é›†æˆ

**Gateway åˆå§‹åŒ–** (æ‰€æœ‰ MCP ä½¿ç”¨å‰æ‰§è¡Œ):
```python
# å¯¼å…¥ MCP Gateway
from src.mcp.gateway import get_mcp_gateway

# è·å–å…¨å±€ Gateway å®ä¾‹
gateway = get_mcp_gateway()
```

**Serena å·¥å…·è°ƒç”¨** (--serena):
```python
# æ£€æŸ¥å¯ç”¨æ€§
if gateway.is_available("serena"):
    # è·å–ç¬¦å·æ¦‚è§ˆå·¥å…·
    symbols_tool = gateway.get_tool("serena", "get_symbols_overview")

    # è°ƒç”¨å·¥å…·è·å–æ–‡ä»¶ç»“æ„
    result = symbols_tool.call(relative_path="src/services/user_service.py")

    # è·å–ç²¾ç¡®å®šä½å·¥å…·
    find_tool = gateway.get_tool("serena", "find_symbol")

    # å®šä½å…·ä½“ç¬¦å·
    symbol_result = find_tool.call(
        name_path_pattern="UserService/authenticate",
        relative_path="src/services/user_service.py"
    )
else:
    print("âš ï¸ Serena MCP ä¸å¯ç”¨ï¼Œä½¿ç”¨ä¼ ç»Ÿ Read å·¥å…·")
```

**Magic å·¥å…·è°ƒç”¨** (--ui):
```python
# æ£€æŸ¥å¯ç”¨æ€§
if gateway.is_available("magic"):
    # è·å– UI ç»„ä»¶ç”Ÿæˆå·¥å…·
    ui_tool = gateway.get_tool("magic", "21st_magic_component_builder")

    # è°ƒç”¨å·¥å…·ç”Ÿæˆç»„ä»¶
    result = ui_tool.call(
        message="Create a login form with email and password fields",
        searchQuery="login form",
        absolutePathToCurrentFile="/path/to/component.tsx",
        absolutePathToProjectDirectory="/path/to/project",
        standaloneRequestQuery="Generate Material Design login form"
    )
else:
    print("âš ï¸ Magic MCP ä¸å¯ç”¨ï¼Œä½¿ç”¨æ ‡å‡† UI ç”Ÿæˆ")
```

**ç»„åˆä½¿ç”¨ç¤ºä¾‹** (--serena --ui):
```python
# åˆå§‹åŒ– Gateway
gateway = get_mcp_gateway()

# æ£€æŸ¥æ‰€æœ‰ MCP å¯ç”¨æ€§
mcp_status = {
    "serena": gateway.is_available("serena"),
    "magic": gateway.is_available("magic")
}

# æ ¹æ®å¯ç”¨æ€§ç»„åˆä½¿ç”¨
if mcp_status["serena"]:
    # Step 1: ä½¿ç”¨ Serena ç²¾ç¡®å®šä½ä¿®æ”¹ä½ç½®
    symbols_tool = gateway.get_tool("serena", "get_symbols_overview")
    structure = symbols_tool.call(relative_path="src/components/Dashboard.tsx")

    # Step 2: ä½¿ç”¨ Serena æ‰¾åˆ°æ’å…¥ç‚¹
    insert_tool = gateway.get_tool("serena", "insert_after_symbol")
    insertion_point = insert_tool.call(
        name_path_pattern="Dashboard/renderHeader",
        relative_path="src/components/Dashboard.tsx"
    )

if mcp_status["magic"]:
    # Step 3: ä½¿ç”¨ Magic ç”Ÿæˆ UI ç»„ä»¶
    ui_tool = gateway.get_tool("magic", "21st_magic_component_builder")
    ui_component = ui_tool.call(
        message="Create data visualization chart component",
        searchQuery="chart component"
    )

    # Step 4: å°†ç”Ÿæˆçš„ç»„ä»¶æ’å…¥åˆ° Serena å®šä½çš„ä½ç½®
```

**Gateway ä¼˜åŠ¿**:
- âœ… ç»Ÿä¸€çš„ MCP ç®¡ç†æ¥å£
- âœ… è‡ªåŠ¨é™çº§ï¼ˆMCP ä¸å¯ç”¨æ—¶å›é€€åˆ°æ ‡å‡†æ–¹æ³•ï¼‰
- âœ… è¿æ¥æ± å¤ç”¨ï¼ˆå‡å°‘å¤šæ¬¡å¯åŠ¨å¼€é”€ï¼‰
- âœ… å·¥å…·æ‡’åŠ è½½ï¼ˆæŒ‰éœ€åˆå§‹åŒ–ï¼‰

---

## æ‰§è¡Œä¸Šä¸‹æ–‡
**è¾“å…¥**: PLANNING.mdæ ‡å‡† + TASK.mdä»»åŠ¡ + KNOWLEDGE.mdæ¨¡å¼
**è¾“å‡º**: ä»£ç å®ç° + TASK.mdæ›´æ–°
**ä¾èµ–é“¾**: /wf_04_ask (å¯é€‰) â†’ **å½“å‰ï¼ˆä»£ç å®ç°ï¼‰** â†’ /wf_07_test â†’ /wf_08_review

## Usage
`/wf_05_code <FEATURE_DESCRIPTION> [--serena] [--ui]`

**æ ‡å¿—è¯´æ˜**:
- `--serena` - å¯ç”¨ Serena MCPï¼Œç”¨äºå¤æ‚ä»£ç ä¿®æ”¹çš„ç²¾ç¡®å®šä½å’Œä»£ç æ’å…¥
  - åœºæ™¯ï¼šå¤§å‹ç±»ä¸­æ·»åŠ æ–°æ–¹æ³•ã€åœ¨ç‰¹å®šä½ç½®æ’å…¥ä»£ç ã€ç†è§£å¤æ‚ä»£ç ç»“æ„
  - æ—¶é—´èŠ‚çœï¼š50-70% (ç†è§£ç»“æ„ 5-15 åˆ†é’Ÿ â†’ å¿«é€Ÿå®šä½ 1-3 åˆ†é’Ÿ)
  - å‡†ç¡®æ€§æå‡ï¼šä»£ç æ’å…¥ç‚¹å‡†ç¡®ç‡ 70% â†’ 95%
- `--ui` - å¯ç”¨ Magic MCPï¼Œç”Ÿæˆäº¤äº’å¼ UI ç»„ä»¶å’Œè®¾è®¡ç³»ç»Ÿé›†æˆ

## Context
- Feature/functionality to implement: $ARGUMENTS
- PLANNING.md defines architecture and standards
- TASK.md tracks implementation progress
- Existing codebase patterns will be followed
- **Serena MCP Integration** (optional via --serena):
  - Precise code location identification
  - Intelligent insertion point detection
  - Symbol-level understanding of code structure

## Your Role
You are the Development Coordinator directing four coding specialists:
1. **Architect Agent** â€“ designs implementation approach aligned with PLANNING.md
2. **Implementation Engineer** â€“ writes code following project standards
3. **Integration Specialist** â€“ ensures seamless integration with existing code
4. **Code Reviewer** â€“ validates quality and updates TASK.md progress

## Process

âš ï¸ **AIæ‰§è¡Œå¼ºåˆ¶è§„åˆ™**: æœ¬å‘½ä»¤çš„æ‰§è¡Œå¿…é¡»ä¸¥æ ¼éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼Œä¸å¾—è·³è¿‡æˆ–éšæ„è§£é‡Šã€‚

### Step 0: åŠ è½½å·¥ä½œæµæŒ‡å—ï¼ˆç«‹å³æ‰§è¡Œï¼‰âš¡

**é‡è¦**: æœ¬æ­¥éª¤æ˜¯åŒæ­¥çš„ï¼ŒDoc Guard å·¥å…·**ç«‹å³è¿”å›**ç»“æœï¼Œæ— éœ€ç­‰å¾…ã€‚

**ç«‹å³æ‰§è¡Œä»¥ä¸‹å‘½ä»¤**æ¥åŠ è½½è¯¦ç»†æŒ‡å¯¼ï¼š

```bash
# ç«‹å³æ‰§è¡Œ - DocLoader åŒæ­¥è¿”å›ç»“æœï¼ˆ~400 tokensï¼Œvs å®Œæ•´æ–‡æ¡£ ~2000 tokensï¼‰
python $HOME/.claude/commands/scripts/doc_guard.py \
  --docs "$HOME/.claude/commands/docs/guides/wf_05_code_workflows.md" \
  --sections "{\"$HOME/.claude/commands/docs/guides/wf_05_code_workflows.md\": [\"AIæ‰§è¡Œåè®®\", \"å®ç°æ¨¡å¼å†³ç­–æ ‘\", \"æ–‡æ¡£å†³ç­–æ ‘\", \"åç»­è·¯å¾„å†³ç­–æ ‘\"]}"
```

**è¯´æ˜**ï¼š
- âœ… æ­¤å‘½ä»¤**ç«‹å³è¿”å›**ç»“æœï¼Œä¸å­˜åœ¨"ç­‰å¾…åŠ è½½"
- âœ… å¦‚æœ doc_guard ä¸å¯ç”¨ï¼Œç›´æ¥ä½¿ç”¨ Read å·¥å…·
- âš ï¸ å®Œæˆåï¼Œ**ç«‹å³**è¿›å…¥ Step 0.1ï¼ˆAgent é€‰æ‹©ï¼‰

---

### Step 0.1: Agent é€‰æ‹©å’Œæ¿€æ´» ğŸ¤– **[å¼ºåˆ¶æ‰§è¡Œ]**

âš ï¸ **AI å¼ºåˆ¶è§„åˆ™**: æ­¤æ­¥éª¤**å¿…é¡»å®é™…æ‰§è¡Œ**ï¼Œä¸å¾—è·³è¿‡æˆ–è§†ä¸ºç¤ºä¾‹

**ç›®çš„**: è‡ªåŠ¨é€‰æ‹©åˆé€‚çš„ agent ååŠ©å®ç°ï¼Œæå‡å¼€å‘æ•ˆç‡å’Œä»£ç è´¨é‡

**æ‰§è¡Œæ—¶æœº**: åœ¨è¯»å–æ‰§è¡ŒæŒ‡å—ä¹‹åã€å¼€å§‹ç¼–ç ä¹‹å‰

**æ‰§è¡Œè¦æ±‚**:
1. âœ… å¿…é¡»å®é™…è°ƒç”¨ `get_agent_coordinator().intercept()`
2. âœ… å¿…é¡»è¾“å‡º agent ä¿¡æ¯ï¼ˆä½¿ç”¨ `format_agent_info()`ï¼‰
3. âœ… å¦‚æœè·³è¿‡æ­¤æ­¥éª¤ï¼Œè§†ä¸ºæ‰§è¡Œåè®®è¿è§„

**æ‰§è¡Œä»£ç ** (å¿…é¡»è¿è¡Œ):
```bash
python -c "
import sys
import os

# åŠ¨æ€æ·»åŠ å®‰è£…ç›®å½•åˆ° Python è·¯å¾„ï¼ˆæ”¯æŒåœ¨ä»»æ„ç›®å½•æ‰§è¡Œå‘½ä»¤ï¼‰
install_dir = os.path.expanduser('~/.claude/commands')
if install_dir not in sys.path and os.path.exists(install_dir):
    sys.path.insert(0, install_dir)

from commands.lib.agent_coordinator import get_agent_coordinator

coordinator = get_agent_coordinator()
agent_context = coordinator.intercept(
    task_description='ä¿®å¤ wf_04_ask å’Œ wf_05_code çš„ Agent é›†æˆ',  # æ›¿æ¢ä¸ºå®é™…ä»»åŠ¡æè¿°
    command_name='wf_05_code',
    auto_activate=True,
    min_confidence=0.85
)
print(coordinator.format_agent_info(agent_context, verbose=True))
"
```

**è¾“å‡ºç¤ºä¾‹**:
```markdown
## ğŸ¤– Agent ååŠ©

**ä½¿ç”¨ Agent**: Implementation Engineer (`code-agent`)
**åŒ¹é…åº¦**: 92% ğŸŸ¢ è‡ªåŠ¨æ¿€æ´»
**ä¸“é•¿**: åŠŸèƒ½å®ç°å’Œä»£ç ç¼–å†™, è®¾è®¡æ¨¡å¼åº”ç”¨, ä»£ç è´¨é‡å’Œå¯è¯»æ€§

**MCP å·¥å…·**:
  - Serena: ç²¾ç¡®ä»£ç å®šä½å’Œæ™ºèƒ½æ’å…¥ç‚¹æ£€æµ‹
  - Magic: UI ç»„ä»¶ç”Ÿæˆ
  - Sequential-thinking: å¤æ‚å®ç°çš„é€»è¾‘æ¨ç†

**å»ºè®®åä½œ**:
  - sequential: test-agent (å®ç°åç¼–å†™æµ‹è¯•)
  - parallel: review-agent (ä»£ç å®¡æŸ¥)
```

**Agent ä¸Šä¸‹æ–‡ä½¿ç”¨**:

å¦‚æœ agent æˆåŠŸæ¿€æ´»ï¼Œåç»­æ­¥éª¤åº”å‚è€ƒå…¶å»ºè®®ï¼š

```python
if agent_context['auto_activated']:
    agent = agent_context['agent']

    # 1. å‚è€ƒ agent çš„ MCP é›†æˆå»ºè®®
    mcp_hints = agent_context['mcp_hints']
    # ä¾‹å¦‚: ["Serena: ç²¾ç¡®ä»£ç å®šä½å’Œæ™ºèƒ½æ’å…¥ç‚¹æ£€æµ‹", ...]

    # 2. æ ¹æ® agent expertise è°ƒæ•´å®ç°ç­–ç•¥
    expertise = agent.expertise
    # ä¾‹å¦‚: ["åŠŸèƒ½å®ç°å’Œä»£ç ç¼–å†™", "è®¾è®¡æ¨¡å¼åº”ç”¨", ...]

    # 3. è€ƒè™‘åä½œå»ºè®®ï¼ˆåç»­å‘½ä»¤ï¼‰
    collaborators = agent_context['collaborators']
    # ä¾‹å¦‚: [{'mode': 'sequential', 'agent': 'test-agent', 'scenario': 'å®ç°åç¼–å†™æµ‹è¯•'}]
```

**é™çº§å¤„ç†**:

å¦‚æœæœªåŒ¹é…åˆ°åˆé€‚çš„ agent (åŒ¹é…åº¦ < 85%)ï¼š
- â„¹ï¸ æ˜¾ç¤º: "æœªåŒ¹é…åˆ°åˆé€‚çš„ agentï¼Œä½¿ç”¨æ ‡å‡†æµç¨‹"
- ç»§ç»­æ‰§è¡Œåç»­æ­¥éª¤ï¼Œä¸å½±å“å‘½ä»¤åŠŸèƒ½

**æ£€æŸ¥æ¸…å•** (Step 0.1 å®ŒæˆéªŒè¯):
- [ ] âœ… å·²æ‰§è¡Œ `python -c "..."` å‘½ä»¤è°ƒç”¨ agent coordinator
- [ ] âœ… å·²æ˜¾ç¤º agent ä¿¡æ¯æˆ–"æœªåŒ¹é…"æ¶ˆæ¯
- [ ] âœ… å·²è®°å½• agent å»ºè®®ï¼ˆå¦‚æœæœ‰ï¼‰ç”¨äºåç»­æ­¥éª¤å‚è€ƒ

**ç›¸å…³æ–‡æ¡£**: [AgentCoordinator ä½¿ç”¨æŒ‡å—](docs/examples/agent_coordinator_usage.md)

---

### Step 1: ä»»åŠ¡ç¡®è®¤ä¸èŒƒå›´ç†è§£ ğŸ”´ **[å¼ºåˆ¶æ‰§è¡Œ]**

âš ï¸ **å…³é”®æé†’**: å¼€å§‹ç¼–ç å‰**å¿…é¡»**å®Œæˆä»»åŠ¡ç¡®è®¤

**å½“ç”¨æˆ·æåŠä»»åŠ¡ç¼–å·** (å¦‚"ä»»åŠ¡ 9.1"):
1. æ£€æŸ¥ TASK.md æ˜¯å¦å­˜åœ¨
2. å¦‚æœå­˜åœ¨: è¯»å– TASK.mdï¼Œå®šä½å¹¶ç¡®è®¤ä»»åŠ¡è¯¦æƒ…
3. å¦‚æœä¸å­˜åœ¨: ä¸»åŠ¨å‘ç”¨æˆ·ç¡®è®¤ä»»åŠ¡ç›®æ ‡ã€èŒƒå›´ã€éªŒæ”¶æ ‡å‡†
4. è·å¾—ç”¨æˆ·ç¡®è®¤åï¼Œæ‰èƒ½è¿›å…¥ Step 2

**è¯¦ç»†æµç¨‹**: å‚è§ [å·¥ä½œæµæŒ‡å— Â§ Step 1](docs/guides/wf_05_code_workflows.md#step-1-ä»»åŠ¡ç¡®è®¤ä¸èŒƒå›´ç†è§£--å¼ºåˆ¶æ‰§è¡Œ)

---

### Step 2-N: æŒ‰æŒ‡å—æ‰§è¡Œ

**è¯¦ç»†æ‰§è¡Œæµç¨‹**: æ‰€æœ‰æ­¥éª¤å¿…é¡»ä¸¥æ ¼éµå¾ª [wf_05_code å·¥ä½œæµæŒ‡å—](docs/guides/wf_05_code_workflows.md) ä¸­çš„"AIæ‰§è¡Œåè®®"éƒ¨åˆ†

**å¿«é€Ÿå‚è€ƒ**ï¼ˆä»…ä¾›ç†è§£ï¼Œä¸å¾—ä½œä¸ºæ‰§è¡Œä¾æ®ï¼‰:

**å››ç§å®ç°æ¨¡å¼**:
1. **æ ‡å‡†å®ç°æ¨¡å¼**: å•æ–‡ä»¶ï¼Œç®€å•é€»è¾‘
2. **å¤šä»£ç†åè°ƒæ¨¡å¼**: å¤æ‚åŠŸèƒ½ï¼Œ>3ä¸ªæ–‡ä»¶
3. **MCP å¢å¼ºæ¨¡å¼ (--serena)**: æ·±åº¦ä»£ç ç†è§£
4. **MCP å¢å¼ºæ¨¡å¼ (--ui)**: å‰ç«¯UIç»„ä»¶å¼€å‘

**ä¸‰ä¸ªå…³é”®å†³ç­–ç‚¹**:
1. **ä»»åŠ¡ç¡®è®¤** (Step 1): æ£€æŸ¥ TASK.mdï¼Œä¸»åŠ¨ç¡®è®¤ä»»åŠ¡ä¿¡æ¯
2. **å®ç°æ¨¡å¼é€‰æ‹©** (Step 2): æ ¹æ®åŠŸèƒ½å¤æ‚åº¦å†³ç­–æ ‘ï¼ˆæ ‡å‡†/å¤šä»£ç†/MCPå¢å¼º/UIç»„ä»¶ï¼‰
3. **æ–‡æ¡£å†³ç­–** (Step 8): Q1-Q5æ£€æŸ¥æ¸…å•ç¡®å®šæ–‡æ¡£ç±»å‹ (A/B/C/D/E)
4. **åç»­è·¯å¾„é€‰æ‹©**: Options A/B/Cï¼ˆå…ˆæµ‹è¯•/å…ˆå®¡æŸ¥/ç›´æ¥å®¡æŸ¥ï¼‰

**æ‰€æœ‰è¯¦ç»†è§„èŒƒ**: å¿…é¡»å‚ç…§ [å·¥ä½œæµæŒ‡å—](docs/guides/wf_05_code_workflows.md)

### æ‰§è¡Œæ£€æŸ¥æ¸…å•ï¼ˆAIå¿…é¡»éªŒè¯ï¼‰

åœ¨è¾“å‡ºç»“æœå‰ï¼ŒAIå¿…é¡»ç¡®è®¤ä»¥ä¸‹æ‰€æœ‰é¡¹ç›®ï¼š

- [ ] âœ… **å·²æ‰§è¡Œ Step 0.1 Agent é€‰æ‹©** â† å¼ºåˆ¶é¡¹
  - è¿è¡Œäº† `python -c "..."` å‘½ä»¤
  - è¾“å‡ºäº† agent ä¿¡æ¯æˆ–"æœªåŒ¹é…"æ¶ˆæ¯
  - è®°å½•äº† agent å»ºè®®ï¼ˆå¦‚æœæœ‰ï¼‰
- [ ] âœ… **å·²æ‰§è¡Œ Step 1 ä»»åŠ¡ç¡®è®¤** â† æ–°å¢å¼ºåˆ¶é¡¹
  - æ£€æŸ¥äº† TASK.md æ˜¯å¦å­˜åœ¨
  - è·å–äº†ä»»åŠ¡çš„å®Œæ•´ä¿¡æ¯ï¼ˆç›®æ ‡/èŒƒå›´/éªŒæ”¶æ ‡å‡†ï¼‰
  - å‘ç”¨æˆ·ç¡®è®¤ç†è§£æˆ–è·å¾—"å¼€å§‹"ä¿¡å·
- [ ] âœ… å·²è¯»å– docs/guides/wf_05_code_workflows.md
- [ ] âœ… å·²æ ¹æ®å†³ç­–æ ‘é€‰æ‹©å®ç°æ¨¡å¼å¹¶æ˜ç¡®è¯´æ˜ç†ç”±
- [ ] âœ… å·²éµå¾ª PLANNING.md å¼€å‘æ ‡å‡†
- [ ] âœ… å·²å®Œæˆä»£ç å®ç°ä¸”åŠŸèƒ½æ­£å¸¸å·¥ä½œ
- [ ] âœ… å·²å®Œæˆ Step 8 æ–‡æ¡£å†³ç­–ï¼ˆQ1-Q5æ£€æŸ¥æ¸…å•ï¼‰
- [ ] âœ… å·²æ ¹æ®å†³ç­–æ ‘é€‰æ‹©åç»­è·¯å¾„ï¼ˆA/B/Cï¼‰
- [ ] âœ… è¾“å‡ºæ ¼å¼å®Œå…¨ç¬¦åˆå¯¹åº”åœºæ™¯çš„æ ‡å‡†æ¨¡æ¿
- [ ] âœ… å·²æ·»åŠ æ˜ç¡®çš„åç»­å‘½ä»¤å’Œæ›¿ä»£é€‰é¡¹
- [ ] âœ… éµå¾ªCLAUDE.mdè¯­è¨€è§„èŒƒ

**å¦‚æœä»»ä½•æ£€æŸ¥é¡¹æœªé€šè¿‡ï¼Œå¿…é¡»é‡æ–°æ‰§è¡Œå¯¹åº”æ­¥éª¤**

---


### Step 0.2: Agent å‘½ä»¤å†²çªå¤„ç† ğŸ”´ **[å¼ºåˆ¶æ‰§è¡Œ]**

âš ï¸ **AI å¼ºåˆ¶è§„åˆ™**: å½“ Agent å»ºè®®ä¸ç”¨æˆ·å‘½ä»¤ä¸åŒæ—¶ï¼Œå¿…é¡»æ˜¾å¼å¤„ç†å†²çª

**ç›®çš„**: é¿å… "Agent æ¿€æ´»ä½†æ— æ•ˆ" çš„ç°è±¡ã€‚Agent çš„å»ºè®®å¿…é¡»è¢«å°Šé‡å’Œæ‰§è¡Œ

**æ‰§è¡Œæ¡ä»¶**:
- Agent æˆåŠŸæ¿€æ´»ï¼ˆåŒ¹é…åº¦ â‰¥ 65%ï¼‰
- Agent æ¨èçš„å‘½ä»¤ â‰  ç”¨æˆ·æ‰§è¡Œçš„å‘½ä»¤

**å¼ºåˆ¶å“åº”é€»è¾‘**:

```
IF agent_activated AND agent_recommended_command != user_command:
  â†’ æ˜¾ç¤ºå†²çªè­¦å‘Šå’ŒåŒ¹é…åº¦å¯¹æ¯”
  â†’ æä¾›ä¸‰ä¸ªé€‰æ‹©é€‰é¡¹
  â†’ æ ¹æ®ç”¨æˆ·é€‰æ‹©æ‰§è¡Œï¼ˆæˆ– AI ä»£è¡¨ç”¨æˆ·åšå‡ºçŸ¥æƒ…å†³å®šï¼‰
```

**æ‰§è¡Œè§„åˆ™**:
- ğŸŸ¢ **å¦‚æœç”¨æˆ·åŒæ„ Agent å»ºè®®**: æ”¹ç”¨æ¨èçš„å‘½ä»¤æ‰§è¡Œ
- ğŸŸ¡ **å¦‚æœç”¨æˆ·åšæŒåŸå‘½ä»¤**: ç»§ç»­æ‰§è¡Œä½†æ˜ç¡®è®°å½•"å¿½ç•¥ Agent å»ºè®®"
- ğŸŸ¢ **å¦‚æœç”¨æˆ·é€‰æ‹©åŒæ—¶æ‰§è¡Œ**: æŒ‰æ¨èé¡ºåºæ‰§è¡Œå¤šä¸ªå‘½ä»¤

---

### Step 0.3: MCP å·¥å…·å¼ºåˆ¶ä½¿ç”¨ ğŸŸ  **[å¼ºåˆ¶æ‰§è¡Œ]**

âš ï¸ **AI å¼ºåˆ¶è§„åˆ™**: Agent æ¨èçš„ MCP å·¥å…·å¿…é¡»è¢«å®é™…ä½¿ç”¨

**ç›®çš„**: ä½¿ Agent çš„ MCP æ¨èçœŸæ­£å‘æŒ¥ä½œç”¨ï¼Œæå‡å·¥ä½œæµçš„ä¸“ä¸šåŒ–ç¨‹åº¦

**æ‰§è¡Œæ¡ä»¶**:
- Agent æˆåŠŸæ¿€æ´»ï¼ˆåŒ¹é…åº¦ â‰¥ 65%ï¼‰
- Agent æä¾›äº† `mcp_hints`ï¼ˆMCP å·¥å…·æ¨èï¼‰
- ç”¨æˆ·æœªæ˜ç¡®ç¦ç”¨ MCPï¼ˆ--no-mcpï¼‰

**å¼ºåˆ¶ä½¿ç”¨è§„åˆ™**:

```
IF agent_activated AND mcp_hints available AND NOT --no-mcp:
  â†’ è‡ªåŠ¨å¯ç”¨ agent æ¨èçš„ top-2 MCP å·¥å…·
  â†’ åœ¨åç»­æ‰§è¡Œä¸­å®é™…è°ƒç”¨è¿™äº›å·¥å…·
  â†’ åœ¨è¾“å‡ºä¸­æ˜ç¡®æ˜¾ç¤ºä½¿ç”¨äº†å“ªäº› MCP å·¥å…·
```

**è¾“å‡ºæ˜¾ç¤º**:

```markdown
## ä½¿ç”¨çš„ MCP å·¥å…·

âœ… **å·¥å…·å** (ä¼˜å…ˆçº§) - å·¥å…·ç®€ä»‹
  ç”¨é€”ï¼šå…·ä½“çš„ä½¿ç”¨åœºæ™¯å’Œä¼˜åŠ¿

è¿™äº›å·¥å…·ç”± Agent æ¨èï¼Œç”¨äºæå‡ä¸“ä¸šåŒ–ç¨‹åº¦å’Œå·¥ä½œæ•ˆç‡
```

**å¼ºåˆ¶ä½¿ç”¨çš„ä¸‰ä¸ªå±‚çº§**:

| ä¼˜å…ˆçº§ | æ¡ä»¶ | è¡Œä¸º |
|--------|------|------|
| ğŸ”´ é«˜ | Agent å¼ºçƒˆæ¨èï¼ˆç½®ä¿¡åº¦ > 80%ï¼‰ | å¿…é¡»å¯ç”¨ï¼Œä¸èƒ½ç¦ç”¨ |
| ğŸŸ  ä¸­ | Agent æ¨èï¼ˆç½®ä¿¡åº¦ 50-80%ï¼‰ | é»˜è®¤å¯ç”¨ï¼Œå¯é€‰ç¦ç”¨ |
| ğŸŸ¡ ä½ | Agent å¯é€‰æ¨èï¼ˆç½®ä¿¡åº¦ < 50%ï¼‰ | ä¸å¯ç”¨ï¼ˆé™¤éç”¨æˆ·é€‰æ‹©ï¼‰ |

---


### Step 0.2: Confidence Check (Pre-Implementation Assessment) ğŸ¯

**ç›®çš„**: åœ¨å¼€å§‹ç¼–ç å‰è¯„ä¼°å®ç°ä¿¡å¿ƒï¼Œé¿å…ç›²ç›®å¼€å‘å¯¼è‡´å¤§é‡è¿”å·¥

**æ‰§è¡Œæ—¶æœº**: åœ¨ Agent é€‰æ‹©ä¹‹åã€è¯»å– PLANNING.md ä¹‹å‰æ‰§è¡Œ

**è¯„ä¼°ç»´åº¦** (ä»£ç å®ç°ç‰¹å®š):

1. **éœ€æ±‚æ¸…æ™°åº¦** (Requirement Clarity)
   - âœ… åŠŸèƒ½æè¿°æ¸…æ™°ï¼ŒéªŒæ”¶æ ‡å‡†æ˜ç¡® (+30%)
   - âš ï¸ éœ€æ±‚æ¨¡ç³Šï¼Œéœ€è¦æ¾„æ¸…ç»†èŠ‚ (-20%)
   - âŒ éœ€æ±‚ä¸å®Œæ•´ï¼Œç¼ºå°‘å…³é”®ä¿¡æ¯ (-40%)

2. **æŠ€æœ¯å¯è¡Œæ€§** (Technical Feasibility) - è¯æ®é©±åŠ¨
   - âœ… ä½¿ç”¨ç°æœ‰æŠ€æœ¯æ ˆï¼Œæœ‰æˆç†Ÿæ–¹æ¡ˆ (+25%)
   - âœ… KNOWLEDGE.md æœ‰ç±»ä¼¼å®ç°æ¨¡å¼ï¼Œé¿å…é‡å¤å‘æ˜ (+15%)
   - âœ… å·²æŸ¥è¯¢å®˜æ–¹æ–‡æ¡£éªŒè¯æ–¹æ¡ˆï¼ˆContext7 MCPï¼‰(+10%)
   - âœ… å·²ç ”ç©¶å¼€æºå®ç°å‚è€ƒï¼ˆWebSearchï¼‰(+10%)
   - âš ï¸ éœ€è¦å­¦ä¹ æ–°æŠ€æœ¯ä½†æ–¹å‘æ˜ç¡® (+5%)
   - âŒ æŠ€æœ¯æ–¹æ¡ˆä¸æ˜ç¡®ï¼Œç¼ºå°‘è¯æ®æ”¯æŒ (-30%)

   **SuperClaude å¢å¼ºå»ºè®®**:
   - ğŸ” ä½¿ç”¨ `--c7` æ ‡å¿—æŸ¥è¯¢å®˜æ–¹åº“æ–‡æ¡£
   - ğŸŒ ä½¿ç”¨ `--research` æ ‡å¿—éªŒè¯å¼€æºæ–¹æ¡ˆ
   - ğŸ“š ä¼˜å…ˆæ£€æŸ¥ KNOWLEDGE.md é¿å…é‡å¤å‘æ˜

3. **æ¶æ„å¯¹é½** (Architecture Alignment)
   - âœ… å®Œå…¨ç¬¦åˆ PLANNING.md æ¶æ„ (+20%)
   - âš ï¸ éœ€è¦å°å¹…è°ƒæ•´æ¶æ„ (-5%)
   - âŒ ä¸ç°æœ‰æ¶æ„å†²çªï¼Œéœ€é‡æ„ (-25%)

4. **ä»£ç ç†è§£** (Code Understanding)
   - âœ… æ¸…æ¥šä¿®æ”¹ä½ç½®å’Œå½±å“èŒƒå›´ (+15%)
   - âœ… å¯ä½¿ç”¨ --serena å¿«é€Ÿå®šä½ (+10%)
   - âš ï¸ éœ€è¦æ¢ç´¢ä»£ç åº“ (+0%)
   - âŒ ä»£ç åº“ç»“æ„ä¸æ¸…æ¥š (-20%)

5. **æµ‹è¯•å¯éªŒè¯æ€§** (Testability)
   - âœ… æœ‰æ˜ç¡®æµ‹è¯•ç­–ç•¥ (+10%)
   - âš ï¸ éœ€è¦è®¾è®¡æµ‹è¯•æ–¹æ¡ˆ (+0%)
   - âŒ æ— æ³•æœ‰æ•ˆæµ‹è¯• (-20%)

**ä¿¡å¿ƒæ°´å¹³è®¡ç®—**:
```
åŸºç¡€ä¿¡å¿ƒ: 50%
æœ€ç»ˆä¿¡å¿ƒ = åŸºç¡€ä¿¡å¿ƒ + Î£(å„ç»´åº¦åˆ†æ•°)
```

**å†³ç­–æ ‘**:

```
ä¿¡å¿ƒæ°´å¹³ â‰¥ 90%?
â”œâ”€ YES â†’ ğŸŸ¢ ç›´æ¥å¼€å§‹å®ç°
â”‚         - ä½¿ç”¨æ ‡å‡†å¼€å‘æµç¨‹
â”‚         - é¢„æœŸé¡ºåˆ©å®Œæˆ
â”‚
â”œâ”€ 70% â‰¤ ä¿¡å¿ƒ < 90%?
â”‚  â””â”€ YES â†’ ğŸŸ¡ å»ºè®®å‡†å¤‡å·¥ä½œ
â”‚            - ä¸»è¦å®ç°æ–¹æ¡ˆ + é£é™©ç‚¹
â”‚            - å»ºè®®: "ä½¿ç”¨ --serena ç²¾ç¡®å®šä½ä¿®æ”¹ç‚¹" æˆ– "å…ˆè¿è¡Œ /wf_04_ask æ¾„æ¸…æ¶æ„"
â”‚            - **SuperClaude å¢å¼º**: ä½¿ç”¨ MCP éªŒè¯æ–¹æ¡ˆ
â”‚              * æŠ€æœ¯æ–¹æ¡ˆä¸ç¡®å®šï¼Ÿâ†’ `/wf_04_ask "..." --c7` (æŸ¥è¯¢å®˜æ–¹æ–‡æ¡£)
â”‚              * éœ€è¦å¼€æºå‚è€ƒï¼Ÿâ†’ `/wf_04_research "..." --research` (æ·±åº¦è°ƒç ”)
â”‚              * å¤æ‚å†³ç­–ï¼Ÿâ†’ `/wf_04_ask "..." --think` (ç»“æ„åŒ–æ¨ç†)
â”‚            - å‡†å¤‡ Plan Bï¼ˆå¦‚æœä¸»æ–¹æ¡ˆå¤±è´¥ï¼‰
â”‚
â””â”€ ä¿¡å¿ƒ < 70%?
   â””â”€ YES â†’ ğŸ”´ æš‚åœå¹¶æ¾„æ¸…ï¼ˆé¿å…é”™è¯¯å®ç°ï¼Œ25-250x ROIï¼‰
            - åœæ­¢ç¼–ç 
            - åˆ—å‡ºéœ€è¦æ¾„æ¸…çš„é—®é¢˜
            - **å¼ºçƒˆå»ºè®®**: å…ˆè¿›è¡Œæ·±åº¦ç ”ç©¶å’Œæ¶æ„å’¨è¯¢
              * `/wf_04_ask "..." --think --c7 --research` (å®Œæ•´åˆ†æ)
              * `/wf_04_research "å¼€æºæ–¹æ¡ˆè¯„ä¼°"` (æ–¹æ¡ˆå¯¹æ¯”)
            - æ£€æŸ¥ KNOWLEDGE.md æ˜¯å¦æœ‰ç±»ä¼¼é—®é¢˜çš„è§£å†³æ–¹æ¡ˆ
            - ç†è§£"ä¸ºä»€ä¹ˆ"ï¼ˆæ ¹æœ¬åŸå› ï¼‰è€Œéåªå…³æ³¨"åšä»€ä¹ˆ"
```

**ç¤ºä¾‹ 1: é«˜ä¿¡å¿ƒåœºæ™¯ (92%)**
```
ä»»åŠ¡: "åœ¨ç”¨æˆ·æ¨¡å‹æ·»åŠ  email éªŒè¯å­—æ®µ"
è¯„ä¼°:
- éœ€æ±‚æ¸…æ™°: +30% (æ˜ç¡®å­—æ®µå’ŒéªŒè¯è§„åˆ™)
- æŠ€æœ¯å¯è¡Œæ€§: +25% (ä½¿ç”¨ç°æœ‰ ORM)
- æ¶æ„å¯¹é½: +20% (ç¬¦åˆæ•°æ®æ¨¡å‹è®¾è®¡)
- ä»£ç ç†è§£: +15% (æ¸…æ¥š User model ä½ç½®)
- æµ‹è¯•å¯éªŒè¯æ€§: +10% (æœ‰æµ‹è¯•å¥—ä»¶)
æ€»ä¿¡å¿ƒ: 50% + 100% = 150% â†’ Cap at 92%

â†’ ğŸŸ¢ ç›´æ¥å®ç°
   é¢„æœŸ: 15-20 åˆ†é’Ÿå®Œæˆ
```

**ç¤ºä¾‹ 2: ä¸­ç­‰ä¿¡å¿ƒåœºæ™¯ (75%)**
```
ä»»åŠ¡: "å®ç°ç”¨æˆ·æƒé™æ£€æŸ¥ä¸­é—´ä»¶"
è¯„ä¼°:
- éœ€æ±‚æ¸…æ™°: +30%
- æŠ€æœ¯å¯è¡Œæ€§: +5% (éœ€è¦ç ”ç©¶ä¸­é—´ä»¶æ¨¡å¼)
- æ¶æ„å¯¹é½: +20%
- ä»£ç ç†è§£: +10% (ä½¿ç”¨ --serena å¿«é€Ÿå®šä½)
- æµ‹è¯•å¯éªŒè¯æ€§: +10%
æ€»ä¿¡å¿ƒ: 50% + 75% = 125% â†’ è°ƒæ•´ä¸º 75%

â†’ ğŸŸ¡ å»ºè®®å‡†å¤‡
   ä¸»è¦æ–¹æ¡ˆ: Express ä¸­é—´ä»¶æ¨¡å¼
   é£é™©ç‚¹: ä¸ç°æœ‰è®¤è¯ç³»ç»Ÿé›†æˆ
   å»ºè®®: å…ˆæŸ¥çœ‹ KNOWLEDGE.md ä¸­çš„ä¸­é—´ä»¶ç¤ºä¾‹
   Plan B: å¦‚æœä¸­é—´ä»¶ä¸é€‚ç”¨ï¼Œä½¿ç”¨è£…é¥°å™¨æ¨¡å¼
```

**ç¤ºä¾‹ 3: ä½ä¿¡å¿ƒåœºæ™¯ (45%)**
```
ä»»åŠ¡: "é›†æˆç¬¬ä¸‰æ–¹æ”¯ä»˜ API"
è¯„ä¼°:
- éœ€æ±‚æ¸…æ™°: -20% (æ”¯ä»˜æµç¨‹ä¸æ˜ç¡®)
- æŠ€æœ¯å¯è¡Œæ€§: -30% (æœªçŸ¥çš„ API)
- æ¶æ„å¯¹é½: -5% (éœ€è°ƒæ•´æ¶æ„)
- ä»£ç ç†è§£: +0%
- æµ‹è¯•å¯éªŒè¯æ€§: -20% (æ”¯ä»˜æµ‹è¯•å›°éš¾)
æ€»ä¿¡å¿ƒ: 50% - 75% = -25% â†’ åº•çº¿ 45%

â†’ ğŸ”´ æš‚åœå¹¶æ¾„æ¸…
   éœ€è¦æ¾„æ¸…:
   1. æ”¯ä»˜æµç¨‹å’Œä¸šåŠ¡è§„åˆ™ï¼Ÿ
   2. ä½¿ç”¨å“ªä¸ªæ”¯ä»˜ APIï¼ˆStripe, PayPal ç­‰ï¼‰ï¼Ÿ
   3. é”™è¯¯å¤„ç†å’Œé‡è¯•ç­–ç•¥ï¼Ÿ
   4. æµ‹è¯•ç¯å¢ƒå’Œæ²™ç®±é…ç½®ï¼Ÿ
   å»ºè®®: å…ˆè¿è¡Œ /wf_04_ask "æ”¯ä»˜ç³»ç»Ÿé›†æˆæ–¹æ¡ˆ" --research
```

**ROI åˆ†æ** (ä»£ç å®ç°ç‰¹å®š):
```
Confidence Check æˆæœ¬: ~150-250 tokens
èŠ‚çœæˆæœ¬ (å¦‚æœé¿å…é”™è¯¯å®ç°):
  - é¿å…é”™è¯¯å®ç°: 10,000-30,000 tokens
  - é¿å…è¿”å·¥: 50,000-100,000 tokens
  - é¿å…æ¶æ„è¿”å·¥: 100,000+ tokens

ROI: 40-400x token èŠ‚çœ
Break-even: åªéœ€é¿å… 1 æ¬¡é”™è¯¯å®ç°
```

**è¾“å‡ºæ ¼å¼**:
```
## ğŸ¯ Implementation Confidence

**ä¿¡å¿ƒæ°´å¹³**: 88% ğŸŸ¢

**è¯„ä¼°æ˜ç»†**:
- âœ… éœ€æ±‚æ¸…æ™°åº¦: +30%
- âœ… æŠ€æœ¯å¯è¡Œæ€§: +25%
- âœ… æ¶æ„å¯¹é½: +20%
- âœ… ä»£ç ç†è§£: +15%
- âš ï¸ æµ‹è¯•å¯éªŒè¯æ€§: +0%

**å†³ç­–**: ç›´æ¥å¼€å§‹å®ç°

**é¢„æœŸ**: é¡ºåˆ©å®Œæˆï¼Œçº¦ 20-30 åˆ†é’Ÿ
```

---

### Step 0.5: Environment Compatibility Check ğŸ”§ (NEW - è€ç‰ˆæœ¬é€‚é…)

**ç›®çš„**: ç¡®ä¿å‘½ä»¤åœ¨è€ç‰ˆæœ¬ Claude Code éƒ¨ç½²ç¯å¢ƒä¸­æ­£å¸¸å·¥ä½œ

**æ‰§è¡Œæ—¶æœº**: åœ¨ Confidence Check ä¹‹åï¼ŒPhase 1 åŸºç¡€ä»£ç å¼€å‘ä¹‹å‰

**ä¸ºä»€ä¹ˆéœ€è¦**: Task 2.6 è¦æ±‚"é€‚é…è€ç‰ˆæœ¬ç¯å¢ƒ"ï¼Œç¡®ä¿æ–°åŠŸèƒ½ï¼ˆExplore agent, å¹¶è¡Œæ¨¡å¼ï¼‰åœ¨è€ç‰ˆæœ¬éƒ¨ç½²æ—¶èƒ½ä¼˜é›…é™çº§

---

#### 0.5.1 ç¯å¢ƒæ£€æµ‹

æ£€æµ‹è¿è¡Œç¯å¢ƒç‰¹æ€§å’Œå¯ç”¨å·¥å…·ï¼š

**æ£€æµ‹é¡¹ 1: Task tool å¯ç”¨æ€§**
```
å°è¯•: è°ƒç”¨ Task tool è·å–å¯ç”¨ subagent ç±»å‹
- âœ… æ”¯æŒ â†’ å¯ä½¿ç”¨ Explore agent å’Œå¹¶è¡Œ agents
- âŒ ä¸æ”¯æŒ â†’ é™çº§ä¸ºä¼ ç»Ÿ Glob/Grep å·¥å…·
```

**æ£€æµ‹é¡¹ 2: MCP æœåŠ¡å™¨å¯ç”¨æ€§**
```
æ£€æŸ¥:
- Serena MCP: ç”¨äºä»£ç ç†è§£å’Œç²¾ç¡®å®šä½
  * å¯ç”¨ â†’ å¯ç”¨ --serena å¢å¼ºåŠŸèƒ½
  * ä¸å¯ç”¨ â†’ ä½¿ç”¨ Grep/Read æ›¿ä»£

- Explore agent: ç”¨äºä»£ç åº“æ¢ç´¢
  * å¯ç”¨ â†’ å¯ç”¨ Step 1.2 æ™ºèƒ½æ¢ç´¢
  * ä¸å¯ç”¨ â†’ ç›´æ¥è¿›å…¥ Step 1.3 æ ‡å‡†åŠ è½½
```

**æ£€æµ‹é¡¹ 3: åŸºç¡€å·¥å…·å®Œæ•´æ€§**
```
éªŒè¯: Glob, Grep, Read, Edit, Write, Bash
- å…¨éƒ¨å¯ç”¨ â†’ æ­£å¸¸æ‰§è¡Œ
- éƒ¨åˆ†ç¼ºå¤± â†’ è­¦å‘Šå¹¶æä¾›æ›¿ä»£æ–¹æ¡ˆ
```

---

#### 0.5.2 é™çº§ç­–ç•¥

æ ¹æ®æ£€æµ‹ç»“æœï¼Œè‡ªåŠ¨é€‰æ‹©é™çº§æ–¹æ¡ˆï¼š

**Scenario A: å®Œå…¨æ”¯æŒï¼ˆç†æƒ³ç¯å¢ƒï¼‰**
- âœ… Task tool å¯ç”¨
- âœ… Serena MCP å¯ç”¨
- âœ… Explore agent å¯ç”¨
- ğŸš€ æ‰§è¡Œæ¨¡å¼: ä½¿ç”¨æ‰€æœ‰å¢å¼ºåŠŸèƒ½

**Scenario B: éƒ¨åˆ†æ”¯æŒï¼ˆè€ç‰ˆæœ¬ç¯å¢ƒ - æœ€å¸¸è§ï¼‰**
- âŒ Task tool å—é™æˆ–ä¸å¯ç”¨
- âš ï¸ Serena MCP å¯èƒ½ä¸å¯ç”¨
- ğŸ“Š æ‰§è¡Œæ¨¡å¼: é™çº§ç­–ç•¥

**é™çº§å†³ç­–è¡¨**:
| é™åˆ¶ | å½±å“èŒƒå›´ | é™çº§æ–¹æ¡ˆ | æ€§èƒ½å½±å“ |
|------|---------|---------|---------|
| Task tool ä¸å¯ç”¨ | Step 1.2, Step 3 Mode B | è·³è¿‡ Exploreï¼Œå¼ºåˆ¶ Mode A | Token +70%, æ—¶é—´ +15min |
| Serena ä¸å¯ç”¨ | Step 1.4, æ‰€æœ‰ --serena ç‰¹æ€§ | ä½¿ç”¨ Grep/Read æ›¿ä»£ | å®šä½å‡†ç¡®ç‡ 95% â†’ 70% |
| ä¸¤è€…éƒ½ä¸å¯ç”¨ | æ‰€æœ‰å¢å¼ºåŠŸèƒ½ | å®Œå…¨ä¼ ç»Ÿæ¨¡å¼ | Token +70%, æ—¶é—´ +20min |

**Scenario C: æœ€å°ç¯å¢ƒï¼ˆä¸¥é‡å—é™ï¼‰**
- âŒ Task tool ä¸å¯ç”¨
- âŒ Serena MCP ä¸å¯ç”¨
- âŒ æŸäº›åŸºç¡€å·¥å…·ç¼ºå¤±
- âš ï¸ æ‰§è¡Œæ¨¡å¼: æœ€å°åŠŸèƒ½æ¨¡å¼ï¼Œå»ºè®®å‡çº§ç¯å¢ƒ

---

#### 0.5.3 æ‰§è¡Œæ¨¡å¼æ ‡è®°

è®¾ç½®åç»­æ­¥éª¤çš„æ‰§è¡Œç­–ç•¥ï¼š

```yaml
# æ‰§è¡Œæ¨¡å¼é…ç½®ï¼ˆå†…éƒ¨æ ‡è®°ï¼‰
execution_config:
  task_tool_available: true | false
  serena_available: true | false
  explore_agent_available: true | false

  # å¼ºåˆ¶æ¨¡å¼ï¼ˆåŸºäºæ£€æµ‹ç»“æœï¼‰
  force_mode_a: false  # å¦‚æœ task_tool ä¸å¯ç”¨ï¼Œè®¾ä¸º true
  skip_explore: false   # å¦‚æœ Explore agent ä¸å¯ç”¨ï¼Œè®¾ä¸º true
  disable_serena: false # å¦‚æœ Serena ä¸å¯ç”¨ï¼Œè®¾ä¸º true
```

**åç»­æ­¥éª¤è‡ªåŠ¨é€‚é…**:
- **Step 1.1**: å¦‚æœ `skip_explore == true`ï¼Œè‡ªåŠ¨è·³è¿‡å¤æ‚åº¦è¯„ä¼°ï¼Œç›´æ¥è¿› Step 1.3
- **Step 1.2**: å¦‚æœ `explore_agent_available == false`ï¼Œè·³è¿‡æ­¤æ­¥
- **Step 1.4**: å¦‚æœ `disable_serena == true`ï¼Œè·³è¿‡ Serena MCP å¢å¼º
- **Step 2.1**: å¦‚æœ `force_mode_a == true`ï¼Œåªæ˜¾ç¤º Mode A é€‰é¡¹
- **Step 3**: å¦‚æœ `force_mode_a == true`ï¼Œç¦ç”¨ Mode Bï¼ˆå¹¶è¡Œå¼€å‘ï¼‰

---

#### 0.5.4 è¾“å‡ºå’Œç”¨æˆ·é€šçŸ¥

**è¾“å‡ºå†…å®¹**:
```
## ğŸ”§ Environment Compatibility Check

**æ£€æµ‹ç»“æœ**:
- Task tool: âœ… å¯ç”¨ | âŒ ä¸å¯ç”¨
- Serena MCP: âœ… å¯ç”¨ | âš ï¸ éƒ¨åˆ†å¯ç”¨ | âŒ ä¸å¯ç”¨
- Explore agent: âœ… å¯ç”¨ | âŒ ä¸å¯ç”¨

**æ‰§è¡Œæ¨¡å¼**: [å®Œå…¨æ”¯æŒ | éƒ¨åˆ†æ”¯æŒ | æœ€å°æ¨¡å¼]

**é™åˆ¶è¯´æ˜** (å¦‚æœæœ‰):
- âš ï¸ Task tool ä¸å¯ç”¨ï¼Œå°†ä½¿ç”¨ä¼ ç»Ÿ Glob/Grep å·¥å…·ï¼ˆToken æ¶ˆè€— +70%ï¼‰
- âš ï¸ Serena MCP ä¸å¯ç”¨ï¼Œç²¾ç¡®å®šä½åŠŸèƒ½å—é™ï¼ˆå‡†ç¡®ç‡é™è‡³ 70%ï¼‰
- âš ï¸ å¹¶è¡Œå¼€å‘æ¨¡å¼ä¸å¯ç”¨ï¼Œå°†ä½¿ç”¨é¡ºåºæ¨¡å¼ï¼ˆæ—¶é—´ +15åˆ†é’Ÿï¼‰

**å»ºè®®** (å¦‚æœæœ‰é™åˆ¶):
- ğŸ’¡ å»ºè®®å‡çº§åˆ°æœ€æ–°ç‰ˆ Claude Code ä»¥è·å¾—å®Œæ•´åŠŸèƒ½
- ğŸ’¡ æˆ–è”ç³»ç®¡ç†å‘˜å¯ç”¨ MCP æœåŠ¡å™¨æ”¯æŒ
```

---

## ğŸ¤– Agent æ¨¡å¼åè°ƒç­–ç•¥ (NEW - Phase 2 ä¼˜åŒ–)

**ç›®çš„**: ä½¿ç”¨ Task tool å¯åŠ¨ä¸“ä¸šåŒ– agents æ¥å¤„ç†å¤æ‚å®ç°ï¼Œå®ç°æ›´é«˜æ•ˆçš„å¹¶è¡Œå¼€å‘

**ä½•æ—¶ä½¿ç”¨ Agent æ¨¡å¼**:
- âœ… å¤æ‚åŠŸèƒ½å®ç°ï¼ˆæ¶‰åŠå¤šä¸ªæ–‡ä»¶æˆ–æ¨¡å—ï¼‰
- âœ… å¤§å‹ä»£ç åº“ï¼ˆéœ€è¦æ¢ç´¢å’Œå®šä½ä»£ç ï¼‰
- âœ… å¹¶è¡Œå¼€å‘éœ€æ±‚ï¼ˆå®ç° + æµ‹è¯• + æ–‡æ¡£åŒæ­¥è¿›è¡Œï¼‰
- âŒ ç®€å•ä¿®æ”¹ï¼ˆå•æ–‡ä»¶å°æ”¹åŠ¨ï¼Œç›´æ¥å®ç°æ›´å¿«ï¼‰

### æ¨èçš„ Agent ä½¿ç”¨ç­–ç•¥

**Strategy 1: Explore-First Pattern**ï¼ˆæ¢ç´¢ä¼˜å…ˆæ¨¡å¼ï¼‰

é€‚ç”¨åœºæ™¯ï¼šä¸ç†Ÿæ‚‰ä»£ç åº“ç»“æ„ï¼Œéœ€è¦å…ˆå®šä½ç›¸å…³ä»£ç 

```
Step 1: Launch Explore Agent
  - Thoroughness: "medium"
  - Input: Feature description + codebase path
  - Output: Relevant file list + architecture understanding
  - Token savings: 70-80% (é¿å…è¯»å–æ— å…³æ–‡ä»¶)

Step 2: Implement based on exploration results
  - Use standard development process
  - Focus on identified files only
```

**Strategy 2: Parallel Development Pattern**ï¼ˆå¹¶è¡Œå¼€å‘æ¨¡å¼ï¼‰

é€‚ç”¨åœºæ™¯ï¼šå¤æ‚åŠŸèƒ½ï¼Œå®ç°/æµ‹è¯•/æ–‡æ¡£å¯å¹¶è¡Œè¿›è¡Œ

```
Launch 3 agents in PARALLEL:

Agent 1: Implementation Agent
  - Task: Core feature implementation
  - Input: PLANNING.md standards + feature spec
  - Output: Production code

Agent 2: Test Agent
  - Task: Write comprehensive tests
  - Input: Feature spec + test requirements
  - Output: Test suite

Agent 3: Documentation Agent
  - Task: Update relevant documentation
  - Input: Feature changes + doc templates
  - Output: Updated docs

Coordination:
  - Wait for ALL agents to complete
  - Verify consistency across outputs
  - Integrate and commit

Performance: 3.5x faster than sequential
```

**Strategy 3: Sequential Agent Chain**ï¼ˆé¡ºåºä»£ç†é“¾æ¨¡å¼ï¼‰

é€‚ç”¨åœºæ™¯ï¼šæœ‰ä¾èµ–å…³ç³»çš„ä»»åŠ¡åºåˆ—

```
Agent 1 (Architect) â†’ Wait â†’ Agent 2 (Implementation) â†’ Wait â†’ Agent 3 (Integration)

Step 1: Architect Agent
  - Design component structure
  - Output: Implementation plan

Step 2: Implementation Agent
  - Implement based on plan
  - Output: Core code

Step 3: Integration Agent
  - Integrate with existing system
  - Output: Final integrated code
```

### Agent åè°ƒæœ€ä½³å®è·µ

**âœ… DO**:
- ä¸ºæ¯ä¸ª agent æä¾›æ¸…æ™°çš„ä»»åŠ¡æè¿°å’Œè¾“å…¥
- æ˜ç¡® agent ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼ˆå¹¶è¡Œ vs é¡ºåºï¼‰
- éªŒè¯æ‰€æœ‰ agent è¾“å‡ºçš„ä¸€è‡´æ€§
- ä½¿ç”¨ Explore agent å‡å°‘ä¸å¿…è¦çš„æ–‡ä»¶è¯»å–

**âŒ DON'T**:
- ä¸ºç®€å•ä»»åŠ¡å¯åŠ¨ agentï¼ˆå¼€é”€å¤§äºæ”¶ç›Šï¼‰
- å¿˜è®°ç­‰å¾…å¹¶è¡Œ agents å…¨éƒ¨å®Œæˆ
- ç›²ç›®å¹¶è¡Œæœ‰ä¾èµ–å…³ç³»çš„ä»»åŠ¡
- è·³è¿‡æœ€ç»ˆçš„é›†æˆéªŒè¯æ­¥éª¤

### å®é™…æ¡ˆä¾‹ç¤ºä¾‹

**æ¡ˆä¾‹ 1: æ·»åŠ ç”¨æˆ·è®¤è¯åŠŸèƒ½**ï¼ˆä½¿ç”¨å¹¶è¡Œå¼€å‘æ¨¡å¼ï¼‰

```bash
# ä»»åŠ¡ï¼šå®ç° JWT è®¤è¯ç³»ç»Ÿ

å¯åŠ¨ 3 ä¸ªå¹¶è¡Œ agents:
1. Implementation Agent: å®ç° JWT ä¸­é—´ä»¶å’ŒéªŒè¯é€»è¾‘
2. Test Agent: ç¼–å†™è®¤è¯æµ‹è¯•ï¼ˆæ­£å¸¸æµç¨‹ + è¾¹ç•Œæƒ…å†µï¼‰
3. Doc Agent: æ›´æ–° API æ–‡æ¡£è¯´æ˜è®¤è¯è¦æ±‚

ç»“æœï¼š
- å¼€å‘æ—¶é—´ï¼š45 åˆ†é’Ÿ â†’ 15 åˆ†é’Ÿï¼ˆ3x æå‡ï¼‰
- ä»£ç è´¨é‡ï¼šæ›´é«˜ï¼ˆä¸“ä¸šåŒ–åˆ†å·¥ï¼‰
- æ–‡æ¡£åŒæ­¥ï¼šè‡ªåŠ¨å®Œæˆ
```

**æ¡ˆä¾‹ 2: é‡æ„å¤§å‹ç»„ä»¶**ï¼ˆä½¿ç”¨æ¢ç´¢ä¼˜å…ˆæ¨¡å¼ï¼‰

```bash
# ä»»åŠ¡ï¼šé‡æ„æ”¯ä»˜å¤„ç†æ¨¡å—

Step 1: Explore Agent (thoroughness: "medium")
  - æ¢ç´¢ src/payments/ ç›®å½•
  - è¯†åˆ«æ‰€æœ‰ç›¸å…³æ–‡ä»¶å’Œä¾èµ–
  - è¾“å‡ºï¼š8 ä¸ªæ–‡ä»¶éœ€è¦ä¿®æ”¹

Step 2: åŸºäºæ¢ç´¢ç»“æœå®æ–½é‡æ„
  - åªè¯»å–å¿…è¦çš„ 8 ä¸ªæ–‡ä»¶
  - Token èŠ‚çœï¼š~15,000 tokens

ç»“æœï¼š
- ä¸Šä¸‹æ–‡åŠ è½½ï¼š10 åˆ†é’Ÿ â†’ 2 åˆ†é’Ÿ
- Token æ¶ˆè€—ï¼š20,000 â†’ 5,000ï¼ˆ75% èŠ‚çœï¼‰
```

**æ›´å¤šç¤ºä¾‹**: [docs/examples/agent_coordination_examples.md](docs/examples/agent_coordination_examples.md)

---

## âš¡ å¹¶è¡Œæ‰§è¡Œæ¨¡å¼ (NEW - Phase 2 ä¼˜åŒ–)

**ç›®çš„**: é€šè¿‡å¹¶è¡Œå·¥å…·è°ƒç”¨å®ç° 2-4x æ€§èƒ½æå‡

**è¯¦ç»†è¯´æ˜**: å®Œæ•´çš„å¹¶è¡Œæ‰§è¡Œæ¨¡å¼æ–‡æ¡£è¯·å‚è€ƒ [docs/guides/parallel_execution_pattern.md](docs/guides/parallel_execution_pattern.md)

### å¿«é€Ÿå‚è€ƒ

**æ ¸å¿ƒæ¨¡å¼**: Wave â†’ Checkpoint â†’ Wave

**ä½•æ—¶ä½¿ç”¨å¹¶è¡Œæ‰§è¡Œ**:
- âœ… å¤šæ–‡ä»¶è¯»å–ï¼ˆâ‰¥3 ä¸ªç‹¬ç«‹æ–‡ä»¶ï¼‰
- âœ… å¤šæ–‡ä»¶ç¼–è¾‘ï¼ˆâ‰¥3 ä¸ªæ— ä¾èµ–æ–‡ä»¶ï¼‰
- âœ… å¤§å‹ä»£ç åº“ï¼ˆ10+ ä¸ªæ–‡ä»¶ï¼‰
- âœ… å¤æ‚åŠŸèƒ½ï¼ˆè·¨å¤šä¸ªæ¨¡å—ï¼‰

**æ€§èƒ½æå‡**: å¹³å‡ **2.5-3.0x** æ—¶é—´èŠ‚çœ

**æ‰§è¡Œæ¨¡å¼**:
1. **Read â†’ Analyze â†’ Edit**: é€‚ç”¨äºåŠŸèƒ½å®ç°ã€é‡æ„
2. **Search â†’ Read â†’ Edit**: é€‚ç”¨äº Bug ä¿®å¤ã€æ¨¡å¼æ›¿æ¢

**å®æ–½ç¤ºä¾‹** (5ä¸ªæ–‡ä»¶æ·»åŠ æ—¥å¿—):
```
Wave 1: å¹¶è¡Œè¯»å– 5 ä¸ªæ–‡ä»¶ (~5ç§’ vs é¡ºåº25ç§’)
Checkpoint: åˆ†ææ’å…¥ç‚¹å’Œç»Ÿä¸€æ ¼å¼
Wave 2: å¹¶è¡Œç¼–è¾‘ 5 ä¸ªæ–‡ä»¶ (~10ç§’ vs é¡ºåº50ç§’)
Final: éªŒè¯ä¸€è‡´æ€§
æ€§èƒ½æå‡: 75ç§’ â†’ 15ç§’ (5x)
```

**è¯¦ç»†æ¨¡å¼ã€æ›´å¤šç¤ºä¾‹å’Œæœ€ä½³å®è·µ**: å‚è§ [å¹¶è¡Œæ‰§è¡Œæ¨¡å¼æŒ‡å—](docs/guides/parallel_execution_pattern.md)

---

### åŸºç¡€è¾“å‡ºï¼ˆStep 1-7ï¼‰
1. **Implementation Plan** â€“ approach aligned with project architecture
2. **Code Implementation** â€“ working code following standards
3. **Task Updates** â€“ TASK.md updates for completed work
4. **Integration Notes** â€“ how code fits into system
5. **Next Actions** â€“ remaining tasks and dependencies

### æ–‡æ¡£å†³ç­–è¾“å‡ºï¼ˆStep 8 - çº¦æŸé©±åŠ¨ï¼‰â­ NEW
6. **ğŸ“‹ æ–‡æ¡£å†³ç­–æ€»ç»“** â€“ å®Œæˆ Step 8.1-8.5 çš„ç»“æœï¼š
   - âœ… æ‰§è¡Œæ–‡æ¡£èŒƒå›´æ£€æŸ¥ (8.1) - 5 é¡¹æ£€æŸ¥æ¸…å•ç»“æœ
   - âœ… æ–‡æ¡£åˆ†å±‚å†³ç­– (8.2) - ç¡®å®šæ–‡æ¡£ç±»å‹ (A/B/C/D/E)
   - âœ… ç´¢å¼•æ›´æ–°æ‰§è¡Œ (8.3) - Frontmatter éªŒè¯ + ç´¢å¼•åŒæ­¥ç»“æœ
   - âœ… æˆæœ¬æ£€æŸ¥é€šè¿‡ (8.4) - æ‰€æœ‰çº¦æŸæ£€æŸ¥çš„çŠ¶æ€
   - âœ… å†³ç­–è®°å½• (8.5) - å°†è®°å½•åœ¨ git commit message ä¸­çš„æ–‡æ¡£éƒ¨åˆ†

   **è¾“å‡ºç¤ºä¾‹**ï¼š
   ```
   ğŸ“„ æ–‡æ¡£å†³ç­–æ€»ç»“
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
   èŒƒå›´æ£€æŸ¥ (8.1):
   - Q1: æ·»åŠ å…¬å¼€ APIï¼Ÿ YES â†’ éœ€è¦æ–‡æ¡£
   - Q2-Q5: NO

   åˆ†å±‚å†³ç­– (8.2):
   - ç±»å‹C: æ–°å¢ docs/api/auth-endpoints.md (155 è¡Œ)

   ç´¢å¼•æ›´æ–° (8.3):
   - âœ… Frontmatter éªŒè¯é€šè¿‡
   - âœ… KNOWLEDGE.md ç´¢å¼•å·²æ›´æ–° (+1 æ¡ç›®)

   æˆæœ¬æ£€æŸ¥ (8.4):
   - KNOWLEDGE.md: 150 â†’ 151 è¡Œ (+0.7%, âœ…)
   - docs/: 2400 â†’ 2555 è¡Œ (+6.5%, âœ…)
   - æ‰€æœ‰çº¦æŸé€šè¿‡

   å†³ç­–è®°å½• (8.5):
   - å°†åœ¨ commit message ä¸­åŒ…å«æ–‡æ¡£éƒ¨åˆ†è¯´æ˜
   ```

7. **ğŸ“š æ–‡æ¡£å®Œæ•´æ€§æ£€æŸ¥** â€“ å¦‚æœåˆ›å»ºäº†æŠ€æœ¯æ–‡æ¡£ï¼š
   - âœ… æ‰€æœ‰æ–° docs/ æ–‡ä»¶éƒ½æœ‰å®Œæ•´çš„ Frontmatter å…ƒæ•°æ®
   - âœ… å¿…éœ€å­—æ®µ (7ä¸ª) éƒ½å·²å¡«å†™ï¼štitle, description, type, status, priority, created_date, last_updated
   - âœ… æ¨èå­—æ®µå·²å¡«å†™ï¼šrelated_documents, related_code, tags
   - âš ï¸ å¦‚æœç¼ºå¤±ï¼šå›åˆ° Step 8.3ï¼Œä½¿ç”¨è„šæœ¬ä¿®å¤æˆ–å‚è€ƒ CLAUDE.md FRONTMATTER è§„èŒƒ

8. **ğŸ¨ Ultrathink è®¾è®¡æ£€æŸ¥** (å¯é€‰æé†’) â€“ ä»£ç ä¼˜é›…åº¦è‡ªæ£€ï¼ˆå‚è§ PHILOSOPHY.mdï¼‰
   - âœ… å‡½æ•°/å˜é‡åå­—æ˜¯å¦è‡ªç„¶è€Œæ¸…æ™°ï¼Ÿ(Obsess Over Details)
   - âœ… ä»£ç ç»“æ„æ˜¯å¦æµç•…æ˜“æ‡‚ï¼Ÿ(Craft, Don't Code)
   - âœ… é”™è¯¯å¤„ç†æ˜¯å¦ä¼˜é›…è€Œæœ‰ç”¨ï¼Ÿ(Craft, Don't Code)
   - âœ… æœ‰æ²¡æœ‰ä¸å¿…è¦çš„å¤æ‚æ€§èƒ½ç§»é™¤ï¼Ÿ(Simplify Ruthlessly)

## Workflow Integration
- Reads context from PLANNING.md
- Updates progress in TASK.md
- Triggers `/wf_07_test` for validation
- Prepares for `/wf_08_review` cycle
- Leads to `/wf_11_commit` when complete

## ğŸ“Œ å·¥ä½œæµå¯¼èˆª (Phase 3 - é—­ç¯å·¥ä½œæµ)

### å·¥ä½œæµä½ç½®æŒ‡ç¤º

å½“ä½¿ç”¨æ­¤å‘½ä»¤æ—¶ï¼Œä½ æ­£åœ¨æ‰§è¡Œæ ‡å‡†å¼€å‘æµç¨‹çš„ä»¥ä¸‹é˜¶æ®µï¼š

```
[ä»»åŠ¡ç¡®è®¤] â†’ [æ¶æ„å’¨è¯¢] â†’ [ä»£ç å®ç° â† å½“å‰] â†’ [æµ‹è¯•éªŒè¯] â†’ [ä»£ç å®¡æŸ¥] â†’ [æäº¤ä¿å­˜]
   STEP 1      STEP 2 (å¯é€‰)   STEP 3        STEP 4      STEP 5     STEP 6
```

### å»ºè®®ä¸‹ä¸€æ­¥ï¼ˆ3 ä¸ªé€‰é¡¹ï¼‰

| é€‰é¡¹ | é€‚ç”¨åœºæ™¯ | å‘½ä»¤åºåˆ— | ä¼˜åŠ¿ |
|------|---------|---------|------|
| **A** | åŠŸèƒ½å¤æ‚ä¸”æ–°å¢ | `/wf_07_test` â†’ `/wf_08_review` â†’ `/wf_11_commit` | æµ‹è¯•å…ˆè¡Œï¼Œç¡®ä¿è´¨é‡ |
| **B** | åŠŸèƒ½ä¿®æ”¹å·²æœ‰ä»£ç  | `/wf_08_review` â†’ `/wf_07_test` â†’ `/wf_11_commit` | å¿«é€Ÿå‘ç°è®¾è®¡é—®é¢˜ |
| **C** | ç®€å•åŠŸèƒ½/æ–‡æ¡£ä¿®æ”¹ | `/wf_08_review` â†’ `/wf_11_commit` | å‡å°‘å¼€é”€ |

### ğŸ’¡ å†³ç­–æŒ‡å—

**æˆ‘åº”è¯¥æ‰§è¡Œå“ªä¸ªé€‰é¡¹ï¼Ÿ**

| æƒ…å†µ | å»ºè®® | å‘½ä»¤ |
|------|------|------|
| åŠŸèƒ½å¤æ‚ä¸”æ–°å¢ | é€‰é¡¹ A | /wf_07_test â†’ /wf_08_review â†’ /wf_11_commit |
| åŠŸèƒ½ä¿®æ”¹å·²æœ‰ä»£ç  | é€‰é¡¹ B | /wf_08_review â†’ /wf_07_test â†’ /wf_11_commit |
| ç®€å•åŠŸèƒ½/æ–‡æ¡£ä¿®æ”¹ | é€‰é¡¹ C | /wf_08_review â†’ /wf_11_commit |
| ä¸ç¡®å®š | å’¨è¯¢ | /wf_04_ask "æˆ‘åº”è¯¥å…ˆæµ‹è¯•è¿˜æ˜¯å…ˆå®¡æŸ¥ï¼Ÿ" |

### ğŸ”„ å›åˆ°ä¸Šä¸€æ­¥

å¦‚æœéœ€è¦ä¿®æ”¹è®¾è®¡æˆ–æ¶æ„ï¼š
```bash
/wf_04_ask "éœ€è¦é‡æ–°è®¨è®ºçš„æ¶æ„é—®é¢˜..."
# ä¿®æ”¹ä»£ç åç»§ç»­å½“å‰æ­¥éª¤
```

**å®Œæ•´å·¥ä½œæµå¯¼èˆªæŒ‡å—**: [Â§ wf_05_code å·¥ä½œæµå’Œå†³ç­–è·¯å¾„æŒ‡å—](docs/guides/wf_05_code_workflows.md)

---

## ç›¸å…³æ–‡æ¡£

- **ä¸»å‘½ä»¤ç³»ç»Ÿ**: WORKFLOWS.md - å®Œæ•´å·¥ä½œæµè¯´æ˜
- **ä»£ç æ ‡å‡†**: PLANNING.md (Development Standards)
- **ä»»åŠ¡è¿½è¸ª**: TASK.md
- **è®¾è®¡åŸåˆ™**: PHILOSOPHY.md (Ultrathink)
- **æ–‡æ¡£åŒæ­¥æŒ‡å—**: [docs/guides/wf_05_code_doc_sync_guide.md](docs/guides/wf_05_code_doc_sync_guide.md)
- **Serena MCP æŒ‡å—**: [docs/guides/wf_05_code_serena_guide.md](docs/guides/wf_05_code_serena_guide.md)
- **å·¥ä½œæµå¯¼èˆªæŒ‡å—**: [docs/guides/wf_05_code_workflows.md](docs/guides/wf_05_code_workflows.md)
